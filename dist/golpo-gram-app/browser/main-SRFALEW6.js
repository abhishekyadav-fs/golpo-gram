var W0=Object.create;var Ri=Object.defineProperty,K0=Object.defineProperties,Z0=Object.getOwnPropertyDescriptor,Y0=Object.getOwnPropertyDescriptors,J0=Object.getOwnPropertyNames,Rh=Object.getOwnPropertySymbols,Q0=Object.getPrototypeOf,kh=Object.prototype.hasOwnProperty,X0=Object.prototype.propertyIsEnumerable;var Nh=(n,e,t)=>e in n?Ri(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})kh.call(e,t)&&Nh(n,t,e[t]);if(Rh)for(var t of Rh(e))X0.call(e,t)&&Nh(n,t,e[t]);return n},G=(n,e)=>K0(n,Y0(e));var ew=(n,e)=>()=>(n&&(e=n(n=0)),e);var xn=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),tw=(n,e)=>{for(var t in e)Ri(n,t,{get:e[t],enumerable:!0})},Ph=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of J0(e))!kh.call(n,i)&&i!==t&&Ri(n,i,{get:()=>e[i],enumerable:!(r=Z0(e,i))||r.enumerable});return n};var nw=(n,e,t)=>(t=n!=null?W0(Q0(n)):{},Ph(e||!n||!n.__esModule?Ri(t,"default",{value:n,enumerable:!0}):t,n)),vr=n=>Ph(Ri({},"__esModule",{value:!0}),n);var p=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var On={};tw(On,{__addDisposableResource:()=>vp,__assign:()=>Es,__asyncDelegator:()=>up,__asyncGenerator:()=>Ms,__asyncValues:()=>xs,__await:()=>Ct,__awaiter:()=>S,__classPrivateFieldGet:()=>pp,__classPrivateFieldIn:()=>mp,__classPrivateFieldSet:()=>gp,__createBinding:()=>Is,__decorate:()=>Qh,__disposeResources:()=>yp,__esDecorate:()=>ep,__exportStar:()=>sp,__extends:()=>Jh,__generator:()=>op,__importDefault:()=>hp,__importStar:()=>fp,__makeTemplateObject:()=>dp,__metadata:()=>ip,__param:()=>Xh,__propKey:()=>np,__read:()=>tu,__rest:()=>$t,__rewriteRelativeImportExtension:()=>_p,__runInitializers:()=>tp,__setFunctionName:()=>rp,__spread:()=>ap,__spreadArray:()=>cp,__spreadArrays:()=>lp,__values:()=>Ss,default:()=>yw});function Jh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xc(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function $t(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Qh(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function Xh(n,e){return function(t,r){e(t,r,n)}}function ep(n,e,t,r,i,o){function s(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&n?r.static?n:n.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,h=!1,f=t.length-1;f>=0;f--){var g={};for(var w in r)g[w]=w==="access"?{}:r[w];for(var w in r.access)g.access[w]=r.access[w];g.addInitializer=function(D){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(D||null))};var b=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=s(b.get))&&(u.get=d),(d=s(b.set))&&(u.set=d),(d=s(b.init))&&i.unshift(d)}else(d=s(b))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),h=!0}function tp(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function np(n){return typeof n=="symbol"?n:"".concat(n)}function rp(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function ip(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function S(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function op(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function sp(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Is(e,n,t)}function Ss(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tu(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function ap(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(tu(arguments[e]));return n}function lp(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function cp(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Ct(n){return this instanceof Ct?(this.v=n,this):new Ct(n)}function Ms(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(w){return new Promise(function(b,D){o.push([f,w,b,D])>1||l(f,w)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(r[f](g))}catch(w){h(o[0][3],w)}}function c(f){f.value instanceof Ct?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,g){f(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function up(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:Ct(n[i](s)),done:!1}:o?o(s):s}:o}}function xs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ss=="function"?Ss(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function dp(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function fp(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=eu(n),r=0;r<t.length;r++)t[r]!=="default"&&Is(e,n,t[r]);return mw(e,n),e}function hp(n){return n&&n.__esModule?n:{default:n}}function pp(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function gp(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function mp(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function vp(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function yp(n){function e(o){n.error=n.hasError?new vw(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function _p(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?t:i+o+"."+s.toLowerCase()+"js"}):n}var Xc,Es,Is,mw,eu,vw,yw,le=ew(()=>{"use strict";Xc=function(n,e){return Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Xc(n,e)};Es=function(){return Es=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Es.apply(this,arguments)};Is=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};mw=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},eu=function(n){return eu=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},eu(n)};vw=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};yw={__extends:Jh,__assign:Es,__rest:$t,__decorate:Qh,__param:Xh,__esDecorate:ep,__runInitializers:tp,__propKey:np,__setFunctionName:rp,__metadata:ip,__awaiter:S,__generator:op,__createBinding:Is,__exportStar:sp,__values:Ss,__read:tu,__spread:ap,__spreadArrays:lp,__spreadArray:cp,__await:Ct,__asyncGenerator:Ms,__asyncDelegator:up,__asyncValues:xs,__makeTemplateObject:dp,__importStar:fp,__importDefault:hp,__classPrivateFieldGet:pp,__classPrivateFieldSet:gp,__classPrivateFieldIn:mp,__addDisposableResource:vp,__disposeResources:yp,__rewriteRelativeImportExtension:_p}});var Zf=xn(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var Wf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Kf.default=Wf});var Qf=xn(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var Dx=(le(),vr(On)),Ex=Dx.__importDefault(Zf()),Yf=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>p(this,null,function*(){var s,a,l,c;let u=null,d=null,h=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let q=yield o.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=q:d=JSON.parse(q))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),D=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&D&&D.length>1&&(h=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let b=yield o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&b===""?(f=204,g="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Ex.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Jf.default=Yf});var th=xn(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var Sx=(le(),vr(On)),Ix=Sx.__importDefault(Qf()),Xf=class extends Ix.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};eh.default=Xf});var Ll=xn(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var Mx=(le(),vr(On)),xx=Mx.__importDefault(th()),Tx=new RegExp("[,()]"),nh=class extends xx.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Tx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};rh.default=nh});var sh=xn(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var Ax=(le(),vr(On)),Zo=Ax.__importDefault(Ll()),ih=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){let{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new Zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Zo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};oh.default=ih});var A_=xn(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var T_=(le(),vr(On)),Ox=T_.__importDefault(sh()),Rx=T_.__importDefault(Ll()),ah=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new Ox.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${e}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Rx.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};lh.default=ah});var L_=xn(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;var vi=(le(),vr(On)),O_=vi.__importDefault(A_());je.PostgrestClient=O_.default;var R_=vi.__importDefault(sh());je.PostgrestQueryBuilder=R_.default;var N_=vi.__importDefault(Ll());je.PostgrestFilterBuilder=N_.default;var k_=vi.__importDefault(th());je.PostgrestTransformBuilder=k_.default;var P_=vi.__importDefault(Qf());je.PostgrestBuilder=P_.default;var F_=vi.__importDefault(Zf());je.PostgrestError=F_.default;je.default={PostgrestClient:O_.default,PostgrestQueryBuilder:R_.default,PostgrestFilterBuilder:N_.default,PostgrestTransformBuilder:k_.default,PostgrestBuilder:P_.default,PostgrestError:F_.default}});function Tc(n,e){return Object.is(n,e)}var ye=null,ds=!1,Ac=1,et=Symbol("SIGNAL");function W(n){let e=ye;return ye=n,e}function Oc(){return ye}var ki={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pi(n){if(ds)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(n);let e=ye.nextProducerIndex++;if(gs(ye),e<ye.producerNode.length&&ye.producerNode[e]!==n&&Ni(ye)){let t=ye.producerNode[e];ps(t,ye.producerIndexOfThis[e])}ye.producerNode[e]!==n&&(ye.producerNode[e]=n,ye.producerIndexOfThis[e]=Ni(ye)?Lh(n,ye,e):0),ye.producerLastReadVersion[e]=n.version}function Fh(){Ac++}function Rc(n){if(!(Ni(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ac)){if(!n.producerMustRecompute(n)&&!Fc(n)){xc(n);return}n.producerRecomputeValue(n),xc(n)}}function Nc(n){if(n.liveConsumerNode===void 0)return;let e=ds;ds=!0;try{for(let t of n.liveConsumerNode)t.dirty||rw(t)}finally{ds=e}}function kc(){return ye?.consumerAllowSignalWrites!==!1}function rw(n){n.dirty=!0,Nc(n),n.consumerMarkedDirty?.(n)}function xc(n){n.dirty=!1,n.lastCleanEpoch=Ac}function hs(n){return n&&(n.nextProducerIndex=0),W(n)}function Pc(n,e){if(W(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ni(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ps(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fc(n){gs(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Rc(t),r!==t.version))return!0}return!1}function Lc(n){if(gs(n),Ni(n))for(let e=0;e<n.producerNode.length;e++)ps(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Lh(n,e,t){if(jh(n),n.liveConsumerNode.length===0&&Vh(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Lh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ps(n,e){if(jh(n),n.liveConsumerNode.length===1&&Vh(n))for(let r=0;r<n.producerNode.length;r++)ps(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];gs(i),i.producerIndexOfThis[r]=e}}function Ni(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Vh(n){return n.producerNode!==void 0}function jc(n,e){let t=Object.create(iw);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Rc(t),Pi(t),t.value===fs)throw t.error;return t.value};return r[et]=t,r}var Ic=Symbol("UNSET"),Mc=Symbol("COMPUTING"),fs=Symbol("ERRORED"),iw=G(E({},ki),{value:Ic,dirty:!0,error:null,equal:Tc,kind:"computed",producerMustRecompute(n){return n.value===Ic||n.value===Mc},producerRecomputeValue(n){if(n.value===Mc)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Mc;let t=hs(n),r,i=!1;try{r=n.computation(),W(null),i=e!==Ic&&e!==fs&&r!==fs&&n.equal(e,r)}catch(o){r=fs,n.error=o}finally{Pc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function ow(){throw new Error}var Uh=ow;function $h(n){Uh(n)}function Vc(n){Uh=n}var sw=null;function Uc(n,e){let t=Object.create(ms);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Pi(t),t.value);return r[et]=t,r}function Fi(n,e){kc()||$h(n),n.equal(n.value,e)||(n.value=e,aw(n))}function $c(n,e){kc()||$h(n),Fi(n,e(n.value))}var ms=G(E({},ki),{equal:Tc,value:void 0,kind:"signal"});function aw(n){n.version++,Fh(),Nc(n),sw?.()}function Bc(n){let e=W(null);try{return n()}finally{W(e)}}var Hc;function Li(){return Hc}function Ut(n){let e=Hc;return Hc=n,e}var vs=Symbol("NotFound");function L(n){return typeof n=="function"}function yr(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ys=yr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ji(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var he=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(o){e=o instanceof ys?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Bh(o)}catch(s){e=e??[],s instanceof ys?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ys(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Bh(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ji(t,e)}remove(e){let{_finalizers:t}=this;t&&ji(t,e),e instanceof n&&e._removeParent(this)}};he.EMPTY=(()=>{let n=new he;return n.closed=!0,n})();var zc=he.EMPTY;function _s(n){return n instanceof he||n&&"closed"in n&&L(n.remove)&&L(n.add)&&L(n.unsubscribe)}function Bh(n){L(n)?n():n.unsubscribe()}var ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _r={setTimeout(n,e,...t){let{delegate:r}=_r;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_r;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ws(n){_r.setTimeout(()=>{let{onUnhandledError:e}=ft;if(e)e(n);else throw n})}function Vi(){}var Hh=qc("C",void 0,void 0);function zh(n){return qc("E",void 0,n)}function qh(n){return qc("N",n,void 0)}function qc(n,e,t){return{kind:n,value:e,error:t}}var Tn=null;function wr(n){if(ft.useDeprecatedSynchronousErrorHandling){let e=!Tn;if(e&&(Tn={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Tn;if(Tn=null,t)throw r}}else n()}function Gh(n){ft.useDeprecatedSynchronousErrorHandling&&Tn&&(Tn.errorThrown=!0,Tn.error=n)}var An=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_s(e)&&e.add(this)):this.destination=hw}static create(e,t,r){return new br(e,t,r)}next(e){this.isStopped?Wc(qh(e),this):this._next(e)}error(e){this.isStopped?Wc(zh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wc(Hh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dw=Function.prototype.bind;function Gc(n,e){return dw.call(n,e)}var Kc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bs(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bs(r)}else bs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bs(t)}}},br=class extends An{constructor(e,t,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gc(e.next,o),error:e.error&&Gc(e.error,o),complete:e.complete&&Gc(e.complete,o)}):i=e}this.destination=new Kc(i)}};function bs(n){ft.useDeprecatedSynchronousErrorHandling?Gh(n):ws(n)}function fw(n){throw n}function Wc(n,e){let{onStoppedNotification:t}=ft;t&&_r.setTimeout(()=>t(n,e))}var hw={closed:!0,next:Vi,error:fw,complete:Vi};var Cr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ke(n){return n}function Zc(...n){return Yc(n)}function Yc(n){return n.length===0?Ke:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var te=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=gw(t)?t:new br(t,r,i);return wr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Wh(r),new r((i,o)=>{let s=new br({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Cr](){return this}pipe(...t){return Yc(t)(this)}toPromise(t){return t=Wh(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Wh(n){var e;return(e=n??ft.Promise)!==null&&e!==void 0?e:Promise}function pw(n){return n&&L(n.next)&&L(n.error)&&L(n.complete)}function gw(n){return n&&n instanceof An||pw(n)&&_s(n)}function Jc(n){return L(n?.lift)}function Y(n){return e=>{if(Jc(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(n,e,t,r,i){return new Qc(n,e,t,r,i)}var Qc=class extends An{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Dr(){return Y((n,e)=>{let t=null;n._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Er=class extends te{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let t=this.getSubject();e.add(this.source.subscribe(K(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return Dr()(this)}};var Kh=yr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class n extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Cs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kh}next(t){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zc:(this.currentObservers=null,o.push(t),new he(()=>{this.currentObservers=null,ji(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new te;return t.source=this,t}}return n.create=(e,t)=>new Cs(e,t),n})(),Cs=class extends _e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zc}};var we=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ue=new te(n=>n.complete());function Zh(n){return n&&L(n.schedule)}function Yh(n){return n[n.length-1]}function Ds(n){return L(Yh(n))?n.pop():void 0}function un(n){return Zh(Yh(n))?n.pop():void 0}le();var Ts=n=>n&&typeof n.length=="number"&&typeof n!="function";function As(n){return L(n?.then)}function Os(n){return L(n[Cr])}function Rs(n){return Symbol.asyncIterator&&L(n?.[Symbol.asyncIterator])}function Ns(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _w(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ks=_w();function Ps(n){return L(n?.[ks])}le();function Fs(n){return Ms(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ct(t.read());if(i)return yield Ct(void 0);yield yield Ct(r)}}finally{t.releaseLock()}})}function Ls(n){return L(n?.getReader)}function pe(n){if(n instanceof te)return n;if(n!=null){if(Os(n))return ww(n);if(Ts(n))return bw(n);if(As(n))return Cw(n);if(Rs(n))return wp(n);if(Ps(n))return Dw(n);if(Ls(n))return Ew(n)}throw Ns(n)}function ww(n){return new te(e=>{let t=n[Cr]();if(L(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bw(n){return new te(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Cw(n){return new te(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ws)})}function Dw(n){return new te(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function wp(n){return new te(e=>{Sw(n,e).catch(t=>e.error(t))})}function Ew(n){return wp(Fs(n))}function Sw(n,e){var t,r,i,o;return S(this,void 0,void 0,function*(){try{for(t=xs(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function $e(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function js(n,e=0){return Y((t,r)=>{t.subscribe(K(r,i=>$e(r,n,()=>r.next(i),e),()=>$e(r,n,()=>r.complete(),e),i=>$e(r,n,()=>r.error(i),e)))})}function Vs(n,e=0){return Y((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bp(n,e){return pe(n).pipe(Vs(e),js(e))}function Cp(n,e){return pe(n).pipe(Vs(e),js(e))}function Dp(n,e){return new te(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ep(n,e){return new te(t=>{let r;return $e(t,e,()=>{r=n[ks](),$e(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Us(n,e){if(!n)throw new Error("Iterable cannot be null");return new te(t=>{$e(t,e,()=>{let r=n[Symbol.asyncIterator]();$e(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sp(n,e){return Us(Fs(n),e)}function Ip(n,e){if(n!=null){if(Os(n))return bp(n,e);if(Ts(n))return Dp(n,e);if(As(n))return Cp(n,e);if(Rs(n))return Us(n,e);if(Ps(n))return Ep(n,e);if(Ls(n))return Sp(n,e)}throw Ns(n)}function de(n,e){return e?Ip(n,e):pe(n)}function j(...n){let e=un(n);return de(n,e)}function Sr(n,e){let t=L(n)?n:()=>n,r=i=>i.error(t());return new te(e?i=>e.schedule(r,0,i):r)}function nu(n){return!!n&&(n instanceof te||L(n.lift)&&L(n.subscribe))}var Bt=yr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(n,e){return Y((t,r)=>{let i=0;t.subscribe(K(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Iw}=Array;function Mw(n,e){return Iw(e)?n(...e):n(e)}function $s(n){return Z(e=>Mw(n,e))}var{isArray:xw}=Array,{getPrototypeOf:Tw,prototype:Aw,keys:Ow}=Object;function Bs(n){if(n.length===1){let e=n[0];if(xw(e))return{args:e,keys:null};if(Rw(e)){let t=Ow(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Rw(n){return n&&typeof n=="object"&&Tw(n)===Aw}function Hs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zs(...n){let e=un(n),t=Ds(n),{args:r,keys:i}=Bs(n);if(r.length===0)return de([],e);let o=new te(Nw(r,e,i?s=>Hs(i,s):Ke));return t?o.pipe($s(t)):o}function Nw(n,e,t=Ke){return r=>{Mp(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Mp(e,()=>{let c=de(n[l],e),u=!1;c.subscribe(K(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mp(n,e,t){n?$e(t,n,e):e()}function xp(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=w=>c<r?g(w):l.push(w),g=w=>{o&&e.next(w),c++;let b=!1;pe(t(w,u++)).subscribe(K(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let D=l.shift();s?$e(e,s,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return n.subscribe(K(e,f,()=>{d=!0,h()})),()=>{a?.()}}function be(n,e,t=1/0){return L(e)?be((r,i)=>Z((o,s)=>e(r,o,i,s))(pe(n(r,i))),t):(typeof e=="number"&&(t=e),Y((r,i)=>xp(r,i,n,t)))}function Tp(n=1/0){return be(Ke,n)}function Ap(){return Tp(1)}function Ir(...n){return Ap()(de(n,un(n)))}function qs(n){return new te(e=>{pe(n()).subscribe(e)})}function ru(...n){let e=Ds(n),{args:t,keys:r}=Bs(n),i=new te(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;pe(t[u]).subscribe(K(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Hs(r,a):a),o.complete())}))}});return e?i.pipe($s(e)):i}function ht(n,e){return Y((t,r)=>{let i=0;t.subscribe(K(r,o=>n.call(e,o,i++)&&r.next(o)))})}function dn(n){return Y((e,t)=>{let r=null,i=!1,o;r=e.subscribe(K(t,void 0,void 0,s=>{o=pe(n(s,dn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Op(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(K(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Mr(n,e){return L(e)?be(n,e,1):be(n,1)}function fn(n){return Y((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ht(n){return n<=0?()=>Ue:Y((e,t)=>{let r=0;e.subscribe(K(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Gs(n=kw){return Y((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kw(){return new Bt}function Ui(n){return Y((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):Ke,Ht(1),t?fn(e):Gs(()=>new Bt))}function xr(n){return n<=0?()=>Ue:Y((e,t)=>{let r=[];e.subscribe(K(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function iu(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):Ke,xr(1),t?fn(e):Gs(()=>new Bt))}function ou(n,e){return Y(Op(n,e,arguments.length>=2,!0))}function su(...n){let e=un(n);return Y((t,r)=>{(e?Ir(n,t,e):Ir(n,t)).subscribe(r)})}function pt(n,e){return Y((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(K(r,l=>{i?.unsubscribe();let c=0,u=o++;pe(n(l,u)).subscribe(i=K(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function au(n){return Y((e,t)=>{pe(n).subscribe(K(t,()=>t.complete(),Vi)),!t.closed&&e.subscribe(t)})}function Me(n,e,t){let r=L(n)||e||t?{next:n,error:e,complete:t}:n;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ke}var wg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(e,t){super(Fw(e,t)),this.code=e}};function Pw(n){return`NG0${Math.abs(n)}`}function Fw(n,e){return`${Pw(n)}${e?": "+e:""}`}var bg=Symbol("InputSignalNode#UNSET"),Lw=G(E({},ms),{transformFn:void 0,applyValueToInputSignal(n,e){Fi(n,e)}});function Cg(n,e){let t=Object.create(Lw);t.value=n,t.transformFn=e?.transform;function r(){if(Pi(t),t.value===bg){let i=null;throw new O(-950,i)}return t.value}return r[et]=t,r}function eo(n){return{toString:n}.toString()}var Ws="__parameters__";function jw(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Dg(n,e,t){return eo(()=>{let r=jw(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ws)?l[Ws]:Object.defineProperty(l,Ws,{value:[]})[Ws];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function re(n){for(let e in n)if(n[e]===re)return e;throw Error("Could not find renamed property on target object.")}function Vw(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Be(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Be).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Rp(n,e){return n?e?`${n} ${e}`:n:e||""}var Uw=re({__forward_ref__:re});function Yt(n){return n.__forward_ref__=Yt,n.toString=function(){return Be(this())},n}function Pe(n){return Eg(n)?n():n}function Eg(n){return typeof n=="function"&&n.hasOwnProperty(Uw)&&n.__forward_ref__===Yt}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ia(n){return Np(n,Ig)||Np(n,Mg)}function Sg(n){return Ia(n)!==null}function Np(n,e){return n.hasOwnProperty(e)?n[e]:null}function $w(n){let e=n&&(n[Ig]||n[Mg]);return e||null}function kp(n){return n&&(n.hasOwnProperty(Pp)||n.hasOwnProperty(Bw))?n[Pp]:null}var Ig=re({\u0275prov:re}),Pp=re({\u0275inj:re}),Mg=re({ngInjectableDef:re}),Bw=re({ngInjectorDef:re}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xg(n){return n&&!!n.\u0275providers}var Hw=re({\u0275cmp:re}),zw=re({\u0275dir:re}),qw=re({\u0275pipe:re}),Gw=re({\u0275mod:re}),ea=re({\u0275fac:re}),zi=re({__NG_ELEMENT_ID__:re}),Fp=re({__NG_ENV_ID__:re});function qi(n){return typeof n=="string"?n:n==null?"":String(n)}function Ww(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qi(n)}function Tg(n,e){throw new O(-200,n)}function ld(n,e){throw new O(-201,!1)}var $=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}($||{}),Cu;function Ag(){return Cu}function tt(n){let e=Cu;return Cu=n,e}function Og(n,e,t){let r=Ia(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&$.Optional)return null;if(e!==void 0)return e;ld(n,"Injector")}var Kw={},Rn=Kw,Du="__NG_DI_FLAG__",ta=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?vs:Rn,r)}},na="ngTempTokenPath",Zw="ngTokenPath",Yw=/\n/gm,Jw="\u0275",Lp="__source";function Qw(n,e=$.Default){if(Li()===void 0)throw new O(-203,!1);if(Li()===null)return Og(n,void 0,e);{let t=Li(),r;return t instanceof ta?r=t.injector:r=t,r.get(n,e&$.Optional?null:void 0,e)}}function B(n,e=$.Default){return(Ag()||Qw)(Pe(n),e)}function I(n,e=$.Default){return B(n,Ma(e))}function Ma(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Eu(n){let e=[];for(let t=0;t<n.length;t++){let r=Pe(n[t]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],l=Xw(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function Rg(n,e){return n[Du]=e,n.prototype[Du]=e,n}function Xw(n){return n[Du]}function eb(n,e,t,r){let i=n[na];throw e[Lp]&&i.unshift(e[Lp]),n.message=tb(`
`+n.message,i,t,r),n[Zw]=i,n[na]=null,n}function tb(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Jw?n.slice(2):n;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Yw,`
  `)}`}var nb=Rg(Dg("Optional"),8);var rb=Rg(Dg("SkipSelf"),4);function Nr(n,e){let t=n.hasOwnProperty(ea);return t?n[ea]:null}function cd(n,e){n.forEach(t=>Array.isArray(t)?cd(t,e):e(t))}function Ng(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ra(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ib(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ob(n,e,t){let r=to(n,e);return r>=0?n[r|1]=t:(r=~r,ib(n,r,e,t)),r}function lu(n,e){let t=to(n,e);if(t>=0)return n[t|1]}function to(n,e){return sb(n,e,1)}function sb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var kn={},nt=[],Gi=new R(""),kg=new R("",-1),Pg=new R(""),ia=class{get(e,t=Rn){if(t===Rn){let r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return t}};function Fg(n,e){let t=n[Gw]||null;if(!t&&e===!0)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return t}function kr(n){return n[Hw]||null}function ab(n){return n[zw]||null}function lb(n){return n[qw]||null}function ud(n){return{\u0275providers:n}}function cb(...n){return{\u0275providers:Lg(!0,n),\u0275fromNgModule:!0}}function Lg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cd(e,s=>{let a=s;Su(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jg(i,o),t}function jg(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];dd(i,o=>{e(o,r)})}}function Su(n,e,t,r){if(n=Pe(n),!n)return!1;let i=null,o=kp(n),s=!o&&kr(n);if(!o&&!s){let l=n.ngModule;if(o=kp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Su(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{cd(o.imports,u=>{Su(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&jg(c,e)}if(!a){let c=Nr(i)||(()=>new i);e({provide:i,useFactory:c,deps:nt},i),e({provide:Pg,useValue:i,multi:!0},i),e({provide:Gi,useValue:()=>B(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;dd(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function dd(n,e){for(let t of n)xg(t)&&(t=t.\u0275providers),Array.isArray(t)?dd(t,e):e(t)}var ub=re({provide:String,useValue:re});function Vg(n){return n!==null&&typeof n=="object"&&ub in n}function db(n){return!!(n&&n.useExisting)}function fb(n){return!!(n&&n.useFactory)}function Pr(n){return typeof n=="function"}function hb(n){return!!n.useClass}var xa=new R(""),Zs={},jp={},cu;function fd(){return cu===void 0&&(cu=new ia),cu}var ot=class{},Wi=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Mu(e,s=>this.processProvider(s)),this.records.set(kg,Tr(void 0,this)),i.has("environment")&&this.records.set(ot,Tr(void 0,this));let o=this.records.get(xa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Pg,nt,$.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?vs:Rn,r)}destroy(){Bi(this),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return Bi(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Bi(this);let t=Ut(this),r=tt(void 0),i;try{return e()}finally{Ut(t),tt(r)}}get(e,t=Rn,r=$.Default){if(Bi(this),e.hasOwnProperty(Fp))return e[Fp](this);r=Ma(r);let i,o=Ut(this),s=tt(void 0);try{if(!(r&$.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=yb(e)&&Ia(e);c&&this.injectableDefInScope(c)?l=Tr(Iu(e),Zs):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&$.Self?fd():this.parent;return t=r&$.Optional&&t===Rn?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[na]=a[na]||[]).unshift(Be(e)),o)throw a;return eb(a,e,"R3InjectorError",this.source)}else throw a}finally{tt(s),Ut(o)}}resolveInjectorInitializers(){let e=W(null),t=Ut(this),r=tt(void 0),i;try{let o=this.get(Gi,nt,$.Self);for(let s of o)s()}finally{Ut(t),tt(r),W(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pe(e);let t=Pr(e)?e:Pe(e&&e.provide),r=gb(e);if(!Pr(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Tr(void 0,Zs,!0),i.factory=()=>Eu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=W(null);try{return t.value===jp?Tg(Be(e)):t.value===Zs&&(t.value=jp,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&vb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{W(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Iu(n){let e=Ia(n),t=e!==null?e.factory:Nr(n);if(t!==null)return t;if(n instanceof R)throw new O(204,!1);if(n instanceof Function)return pb(n);throw new O(204,!1)}function pb(n){if(n.length>0)throw new O(204,!1);let t=$w(n);return t!==null?()=>t.factory(n):()=>new n}function gb(n){if(Vg(n))return Tr(void 0,n.useValue);{let e=Ug(n);return Tr(e,Zs)}}function Ug(n,e,t){let r;if(Pr(n)){let i=Pe(n);return Nr(i)||Iu(i)}else if(Vg(n))r=()=>Pe(n.useValue);else if(fb(n))r=()=>n.useFactory(...Eu(n.deps||[]));else if(db(n))r=(i,o)=>B(Pe(n.useExisting),o!==void 0&&o&$.Optional?$.Optional:void 0);else{let i=Pe(n&&(n.useClass||n.provide));if(mb(n))r=()=>new i(...Eu(n.deps));else return Nr(i)||Iu(i)}return r}function Bi(n){if(n.destroyed)throw new O(205,!1)}function Tr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mb(n){return!!n.deps}function vb(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yb(n){return typeof n=="function"||typeof n=="object"&&n instanceof R}function Mu(n,e){for(let t of n)Array.isArray(t)?Mu(t,e):t&&xg(t)?Mu(t.\u0275providers,e):e(t)}function vt(n,e){let t;n instanceof Wi?(Bi(n),t=n):t=new ta(n);let r,i=Ut(t),o=tt(void 0);try{return e()}finally{Ut(i),tt(o)}}function _b(){return Ag()!==void 0||Li()!=null}function wb(n){return typeof n=="function"}var Jt=0,J=1,V=2,Fe=3,mt=4,yt=5,oa=6,sa=7,He=8,Fr=9,qt=10,Se=11,Ki=12,Vp=13,Hr=14,Et=15,Lr=16,Ar=17,jr=18,Ta=19,$g=20,hn=21,uu=22,aa=23,rt=24,du=25,Gt=26,Bg=1;var Pn=7,la=8,ca=9,it=10;function pn(n){return Array.isArray(n)&&typeof n[Bg]=="object"}function Qt(n){return Array.isArray(n)&&n[Bg]===!0}function Hg(n){return(n.flags&4)!==0}function zr(n){return n.componentOffset>-1}function hd(n){return(n.flags&1)===1}function St(n){return!!n.template}function ua(n){return(n[V]&512)!==0}function qr(n){return(n[V]&256)===256}var xu=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zg(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var $n=(()=>{let n=()=>qg;return n.ngInherit=!0,n})();function qg(n){return n.type.prototype.ngOnChanges&&(n.setInput=Cb),bb}function bb(){let n=Wg(this),e=n?.current;if(e){let t=n.previous;if(t===kn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Cb(n,e,t,r,i){let o=this.declaredInputs[r],s=Wg(n)||Db(n,{previous:kn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new xu(c&&c.currentValue,t,l===kn),zg(n,e,i,t)}var Gg="__ngSimpleChanges__";function Wg(n){return n[Gg]||null}function Db(n,e){return n[Gg]=e}var Up=null;var oe=function(n,e=null,t){Up?.(n,e,t)},Eb="svg",Sb="math";function It(n){for(;Array.isArray(n);)n=n[Jt];return n}function Kg(n,e){return It(e[n])}function Xt(n,e){return It(e[n.index])}function Zg(n,e){return n.data[e]}function Mt(n,e){let t=e[n];return pn(t)?t:t[Jt]}function pd(n){return(n[V]&128)===128}function Ib(n){return Qt(n[Fe])}function da(n,e){return e==null?null:n[e]}function Yg(n){n[Ar]=0}function Jg(n){n[V]&1024||(n[V]|=1024,pd(n)&&Oa(n))}function Mb(n,e){for(;n>0;)e=e[Hr],n--;return e}function Aa(n){return!!(n[V]&9216||n[rt]?.dirty)}function Tu(n){n[qt].changeDetectionScheduler?.notify(8),n[V]&64&&(n[V]|=1024),Aa(n)&&Oa(n)}function Oa(n){n[qt].changeDetectionScheduler?.notify(0);let e=Fn(n);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!pd(e)));)e=Fn(e)}function Qg(n,e){if(qr(n))throw new O(911,!1);n[hn]===null&&(n[hn]=[]),n[hn].push(e)}function xb(n,e){if(n[hn]===null)return;let t=n[hn].indexOf(e);t!==-1&&n[hn].splice(t,1)}function Fn(n){let e=n[Fe];return Qt(e)?e[Fe]:e}function Xg(n){return n[sa]??=[]}function em(n){return n.cleanup??=[]}var H={lFrame:cm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Au=!1;function Tb(){return H.lFrame.elementDepthCount}function Ab(){H.lFrame.elementDepthCount++}function Ob(){H.lFrame.elementDepthCount--}function tm(){return H.bindingsEnabled}function Rb(){return H.skipHydrationRootTNode!==null}function Nb(n){return H.skipHydrationRootTNode===n}function kb(){H.skipHydrationRootTNode=null}function ce(){return H.lFrame.lView}function st(){return H.lFrame.tView}function Ze(n){return H.lFrame.contextLView=n,n[He]}function Ye(n){return H.lFrame.contextLView=null,n}function at(){let n=nm();for(;n!==null&&n.type===64;)n=n.parent;return n}function nm(){return H.lFrame.currentTNode}function Pb(){let n=H.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function no(n,e){let t=H.lFrame;t.currentTNode=n,t.isParent=e}function rm(){return H.lFrame.isParent}function Fb(){H.lFrame.isParent=!1}function im(){return Au}function $p(n){let e=Au;return Au=n,e}function Lb(){return H.lFrame.bindingIndex}function jb(n){return H.lFrame.bindingIndex=n}function gd(){return H.lFrame.bindingIndex++}function om(n){let e=H.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Vb(){return H.lFrame.inI18n}function Ub(n,e){let t=H.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ou(e)}function $b(){return H.lFrame.currentDirectiveIndex}function Ou(n){H.lFrame.currentDirectiveIndex=n}function Bb(n){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function sm(n){H.lFrame.currentQueryIndex=n}function Hb(n){let e=n[J];return e.type===2?e.declTNode:e.type===1?n[yt]:null}function am(n,e,t){if(t&$.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&$.Host);)if(i=Hb(o),i===null||(o=o[Hr],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=H.lFrame=lm();return r.currentTNode=e,r.lView=n,!0}function md(n){let e=lm(),t=n[J];H.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function lm(){let n=H.lFrame,e=n===null?null:n.child;return e===null?cm(n):e}function cm(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function um(){let n=H.lFrame;return H.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var dm=um;function vd(){let n=um();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zb(n){return(H.lFrame.contextLView=Mb(n,H.lFrame.contextLView))[He]}function Bn(){return H.lFrame.selectedIndex}function Ln(n){H.lFrame.selectedIndex=n}function fm(){let n=H.lFrame;return Zg(n.tView,n.selectedIndex)}function qb(){return H.lFrame.currentNamespace}var hm=!0;function yd(){return hm}function _d(n){hm=n}function Gb(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function pm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ys(n,e,t){gm(n,e,3,t)}function Js(n,e,t,r){(n[V]&3)===t&&gm(n,e,t,r)}function fu(n,e){let t=n[V];(t&3)===e&&(t&=16383,t+=1,n[V]=t)}function gm(n,e,t,r){let i=r!==void 0?n[Ar]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Ar]+=65536),(a<o||o==-1)&&(Wb(n,t,e,l),n[Ar]=(n[Ar]&4294901760)+l+2),l++}function Bp(n,e){oe(4,n,e);let t=W(null);try{e.call(n)}finally{W(t),oe(5,n,e)}}function Wb(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[V]>>14<n[Ar]>>16&&(n[V]&3)===e&&(n[V]+=16384,Bp(a,o)):Bp(a,o)}var Rr=-1,jn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Kb(n){return(n.flags&8)!==0}function Zb(n){return(n.flags&16)!==0}function Yb(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Qb(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Jb(n){return n===3||n===4||n===6}function Qb(n){return n.charCodeAt(0)===64}function Zi(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Hp(n,t,i,null,e[++r]):Hp(n,t,i,null,null))}}return n}function Hp(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function mm(n){return n!==Rr}function fa(n){return n&32767}function Xb(n){return n>>16}function ha(n,e){let t=Xb(n),r=e;for(;t>0;)r=r[Hr],t--;return r}var Ru=!0;function zp(n){let e=Ru;return Ru=n,e}var eC=256,vm=eC-1,ym=5,tC=0,Dt={};function nC(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zi)&&(r=t[zi]),r==null&&(r=t[zi]=tC++);let i=r&vm,o=1<<i;e.data[n+(i>>ym)]|=o}function pa(n,e){let t=_m(n,e);if(t!==-1)return t;let r=e[J];r.firstCreatePass&&(n.injectorIndex=e.length,hu(r.data,n),hu(e,null),hu(r.blueprint,null));let i=wd(n,e),o=n.injectorIndex;if(mm(i)){let s=fa(i),a=ha(i,e),l=a[J].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function hu(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _m(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function wd(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Em(i),r===null)return Rr;if(t++,i=i[Hr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Rr}function Nu(n,e,t){nC(n,e,t)}function wm(n,e,t){if(t&$.Optional||n!==void 0)return n;ld(e,"NodeInjector")}function bm(n,e,t,r){if(t&$.Optional&&r===void 0&&(r=null),(t&($.Self|$.Host))===0){let i=n[Fr],o=tt(void 0);try{return i?i.get(e,r,t&$.Optional):Og(e,r,t&$.Optional)}finally{tt(o)}}return wm(r,e,t)}function Cm(n,e,t,r=$.Default,i){if(n!==null){if(e[V]&2048&&!(r&$.Self)){let s=aC(n,e,t,r,Dt);if(s!==Dt)return s}let o=Dm(n,e,t,r,Dt);if(o!==Dt)return o}return bm(e,t,r,i)}function Dm(n,e,t,r,i){let o=oC(t);if(typeof o=="function"){if(!am(e,n,r))return r&$.Host?wm(i,t,r):bm(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))ld(t);else return s}finally{dm()}}else if(typeof o=="number"){let s=null,a=_m(n,e),l=Rr,c=r&$.Host?e[Et][yt]:null;for((a===-1||r&$.SkipSelf)&&(l=a===-1?wd(n,e):e[a+8],l===Rr||!Gp(r,!1)?a=-1:(s=e[J],a=fa(l),e=ha(l,e)));a!==-1;){let u=e[J];if(qp(o,a,u.data)){let d=rC(a,e,t,s,r,c);if(d!==Dt)return d}l=e[a+8],l!==Rr&&Gp(r,e[J].data[a+8]===c)&&qp(o,a,e)?(s=u,a=fa(l),e=ha(l,e)):a=-1}}return i}function rC(n,e,t,r,i,o){let s=e[J],a=s.data[n+8],l=r==null?zr(a)&&Ru:r!=s&&(a.type&3)!==0,c=i&$.Host&&o===a,u=iC(a,s,t,l,c);return u!==null?ga(e,s,u,a,i):Dt}function iC(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let g=s[f];if(f<l&&t===g||f>=l&&g.type===t)return f}if(i){let f=s[l];if(f&&St(f)&&f.type===t)return l}return null}function ga(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof jn){let a=o;a.resolving&&Tg(Ww(s[t]));let l=zp(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?tt(a.injectImpl):null,d=am(n,r,$.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Gb(t,s[t],e)}finally{u!==null&&tt(u),zp(l),a.resolving=!1,dm()}}return o}function oC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zi)?n[zi]:void 0;return typeof e=="number"?e>=0?e&vm:sC:e}function qp(n,e,t){let r=1<<n;return!!(t[e+(n>>ym)]&r)}function Gp(n,e){return!(n&$.Self)&&!(n&$.Host&&e)}var Nn=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Cm(this._tNode,this._lView,e,Ma(r),t)}};function sC(){return new Nn(at(),ce())}function Hn(n){return eo(()=>{let e=n.prototype.constructor,t=e[ea]||ku(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ea]||ku(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ku(n){return Eg(n)?()=>{let e=ku(Pe(n));return e&&e()}:Nr(n)}function aC(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[V]&2048&&!ua(s);){let a=Dm(o,s,t,r|$.Self,Dt);if(a!==Dt)return a;let l=o.parent;if(!l){let c=s[$g];if(c){let u=c.get(t,Dt,r);if(u!==Dt)return u}l=Em(s),s=s[Hr]}o=l}return i}function Em(n){let e=n[J],t=e.type;return t===2?e.declTNode:t===1?n[yt]:null}function Wp(n,e=null,t=null,r){let i=Sm(n,e,t,r);return i.resolveInjectorInitializers(),i}function Sm(n,e=null,t=null,r,i=new Set){let o=[t||nt,cb(n)];return r=r||(typeof n=="object"?void 0:Be(n)),new Wi(o,e||fd(),r||null,i)}var Wt=class n{static THROW_IF_NOT_FOUND=Rn;static NULL=new ia;static create(e,t){if(Array.isArray(e))return Wp({name:""},t,e,"");{let r=e.name??"";return Wp({name:r},e.parent,e.providers,r)}}static \u0275prov=N({token:n,providedIn:"any",factory:()=>B(kg)});static __NG_ELEMENT_ID__=-1};var lC=new R("");lC.__NG_ELEMENT_ID__=n=>{let e=at();if(e===null)throw new O(204,!1);if(e.type&2)return e.value;if(n&$.Optional)return null;throw new O(204,!1)};var Im=!1,Ra=(()=>{class n{static __NG_ELEMENT_ID__=cC;static __NG_ENV_ID__=t=>t}return n})(),Pu=class extends Ra{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return qr(t)?(e(),()=>{}):(Qg(t,e),()=>xb(t,e))}};function cC(){return new Pu(ce())}var Yi=class{},bd=new R("",{providedIn:"root",factory:()=>!1});var Mm=new R(""),xm=new R(""),Gr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new we(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();var Fu=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_b()&&(this.destroyRef=I(Ra,{optional:!0})??void 0,this.pendingTasks=I(Gr,{optional:!0})??void 0)}emit(e){let t=W(null);try{super.next(e)}finally{W(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ge=Fu;function ma(...n){}function Tm(n){let e,t;function r(){n=ma;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Kp(n){return queueMicrotask(()=>n()),()=>{n=ma}}var Cd="isAngularZone",va=Cd+"_ID",uC=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ge(!1);onMicrotaskEmpty=new ge(!1);onStable=new ge(!1);onError=new ge(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Im}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,hC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cd)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dC,ma,ma);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},dC={};function Dd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fC(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Tm(()=>{n.callbackScheduled=!1,Lu(n),n.isCheckStableRunning=!0,Dd(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Lu(n)}function hC(n){let e=()=>{fC(n)},t=uC++;n._inner=n._inner.fork({name:"angular",properties:{[Cd]:!0,[va]:t,[va+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(pC(l))return r.invokeTask(o,s,a,l);try{return Zp(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Yp(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Zp(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!gC(l)&&e(),Yp(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Lu(n),Dd(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Lu(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Zp(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Yp(n){n._nesting--,Dd(n)}var ju=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ge;onMicrotaskEmpty=new ge;onStable=new ge;onError=new ge;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function pC(n){return Am(n,"__ignore_ng_zone__")}function gC(n){return Am(n,"__scheduler_tick__")}function Am(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},mC=new R("",{providedIn:"root",factory:()=>{let n=I(Ee),e=I(Kt);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Jp(n,e){return Cg(n,e)}function vC(n){return Cg(bg,n)}var Om=(Jp.required=vC,Jp);function yC(){return Na(at(),ce())}function Na(n,e){return new mn(Xt(n,e))}var mn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yC}return n})();function _C(n){return typeof n=="function"&&n[et]!==void 0}function ro(n,e){let t=Uc(n,e?.equal),r=t[et];return t.set=i=>Fi(r,i),t.update=i=>$c(r,i),t.asReadonly=wC.bind(t),t}function wC(){let n=this[et];if(n.readonlyFn===void 0){let e=()=>this();e[et]=n,n.readonlyFn=e}return n.readonlyFn}function Rm(n){return _C(n)&&typeof n.set=="function"}function Nm(n){return(n.flags&128)===128}var km=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(km||{}),Pm=new Map,bC=0;function CC(){return bC++}function DC(n){Pm.set(n[Ta],n)}function Vu(n){Pm.delete(n[Ta])}var Qp="__ngContext__";function io(n,e){pn(e)?(n[Qp]=e[Ta],DC(e)):n[Qp]=e}function Fm(n){return jm(n[Ki])}function Lm(n){return jm(n[mt])}function jm(n){for(;n!==null&&!Qt(n);)n=n[mt];return n}var Uu;function Vm(n){Uu=n}function EC(){if(Uu!==void 0)return Uu;if(typeof document<"u")return document;throw new O(210,!1)}var Ed=new R("",{providedIn:"root",factory:()=>SC}),SC="ng",Sd=new R(""),oo=new R("",{providedIn:"platform",factory:()=>"unknown"});var Id=new R("",{providedIn:"root",factory:()=>EC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IC="h",MC="b";var Um=!1,xC=new R("",{providedIn:"root",factory:()=>Um});var $m=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}($m||{}),ka=new R(""),Xp=new Set;function Md(n){Xp.has(n)||(Xp.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var TC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();var AC=(n,e,t,r)=>{};function OC(n,e,t,r){AC(n,e,t,r)}var RC=()=>null;function Bm(n,e,t=!1){return RC(n,e,t)}function Hm(n,e){let t=n.contentQueries;if(t!==null){let r=W(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];sm(o),a.contentQueries(2,e[s],s)}}}finally{W(r)}}}function $u(n,e,t){sm(0);let r=W(null);try{e(n,t)}finally{W(r)}}function zm(n,e,t){if(Hg(e)){let r=W(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{W(r)}}}var xt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xt||{});var ya=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wg})`}};function qm(n){return n instanceof ya?n.changingThisBreaksApplicationSecurity:n}function NC(n,e){let t=kC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${wg})`)}return t===e}function kC(n){return n instanceof ya&&n.getTypeName()||null}var PC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FC(n){return n=String(n),n.match(PC)?n:"unsafe:"+n}var Gm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gm||{});function lt(n){let e=LC();return e?e.sanitize(Gm.URL,n)||"":NC(n,"URL")?qm(n):FC(qi(n))}function LC(){let n=ce();return n&&n[qt].sanitizer}function Wm(n){return n instanceof Function?n():n}function jC(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Km="ng-template";function VC(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jC(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xd(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function xd(n){return n.type===4&&n.value!==Km}function UC(n,e,t){let r=n.type===4&&!t?Km:n.value;return e===r}function $C(n,e,t){let r=4,i=n.attrs,o=i!==null?zC(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!gt(r)&&!gt(l))return!1;if(s&&gt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!UC(n,l,t)||l===""&&e.length===1){if(gt(r))return!1;s=!0}}else if(r&8){if(i===null||!VC(n,i,l,t)){if(gt(r))return!1;s=!0}}else{let c=e[++a],u=BC(l,i,xd(n),t);if(u===-1){if(gt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(gt(r))return!1;s=!0}}}}return gt(r)||s}function gt(n){return(n&1)===0}function BC(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qC(e,n)}function HC(n,e,t=!1){for(let r=0;r<e.length;r++)if($C(n,e[r],t))return!0;return!1}function zC(n){for(let e=0;e<n.length;e++){let t=n[e];if(Jb(t))return e}return n.length}function qC(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eg(n,e){return n?":not("+e.trim()+")":e}function GC(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gt(s)&&(e+=eg(o,i),i=""),r=s,o=o||!gt(r);t++}return i!==""&&(e+=eg(o,i)),e}function WC(n){return n.map(GC).join(",")}function KC(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var vn={};function ZC(n,e){return n.createText(e)}function YC(n,e,t){n.setValue(e,t)}function Zm(n,e,t){return n.createElement(e,t)}function _a(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Ym(n,e,t){n.appendChild(e,t)}function tg(n,e,t,r,i){r!==null?_a(n,e,t,r,i):Ym(n,e,t)}function JC(n,e,t){n.removeChild(null,e,t)}function QC(n,e,t){n.setAttribute(e,"style",t)}function XC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Jm(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Yb(n,e,r),i!==null&&XC(n,e,i),o!==null&&QC(n,e,o)}function Td(n,e,t,r,i,o,s,a,l,c,u){let d=Gt+r,h=d+i,f=eD(d,h),g=typeof c=="function"?c():c;return f[J]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function eD(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:vn);return t}function tD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Td(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ad(n,e,t,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Jt]=i,d[V]=r|4|128|8|64|1024,(c!==null||n&&n[V]&2048)&&(d[V]|=2048),Yg(d),d[Fe]=d[Hr]=n,d[He]=t,d[qt]=s||n&&n[qt],d[Se]=a||n&&n[Se],d[Fr]=l||n&&n[Fr]||null,d[yt]=o,d[Ta]=CC(),d[oa]=u,d[$g]=c,d[Et]=e.type==2?n[Et]:d,d}function nD(n,e,t){let r=Xt(e,n),i=tD(t),o=n[qt].rendererFactory,s=Od(n,Ad(n,i,null,Qm(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Qm(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Xm(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Od(n,e){return n[Ki]?n[Vp][mt]=e:n[Ki]=e,n[Vp]=e,e}function y(n=1){ev(st(),ce(),Bn()+n,!1)}function ev(n,e,t,r){if(!r)if((e[V]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ys(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Js(e,o,0,t)}Ln(t)}var Pa=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Pa||{});function Bu(n,e,t,r){let i=W(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Pa.SignalBased)!==0&&(l=e[o][et]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):zg(e,l,o,r)}finally{W(i)}}function tv(n,e,t,r,i){let o=Bn(),s=r&2;try{Ln(-1),s&&e.length>Gt&&ev(n,e,Gt,!1),oe(s?2:0,i),t(r,i)}finally{Ln(o),oe(s?3:1,i)}}function Rd(n,e,t){lD(n,e,t),(t.flags&64)===64&&cD(n,e,t)}function nv(n,e,t=Xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function rD(n,e,t,r){let o=r.get(xC,Um)||t===xt.ShadowDom,s=n.selectRootElement(e,o);return iD(s),s}function iD(n){oD(n)}var oD=()=>null;function sD(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rv(n,e,t,r,i,o,s,a){if(!a&&Nd(e,n,t,r,i)){zr(e)&&aD(t,e.index);return}if(e.type&3){let l=Xt(e,t);r=sD(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function aD(n,e){let t=Mt(e,n);t[V]&16||(t[V]|=64)}function lD(n,e,t){let r=t.directiveStart,i=t.directiveEnd;zr(t)&&nD(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||pa(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=ga(e,n,s,t);if(io(l,e),o!==null&&dD(e,s-r,l,a,t,o),St(a)){let c=Mt(t.index,e);c[He]=ga(e,n,s,t)}}}function cD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$b();try{Ln(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Ou(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&uD(l,c)}}finally{Ln(-1),Ou(s)}}function uD(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function iv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];HC(e,o.selectors,!1)&&(r??=[],St(o)?r.unshift(o):r.push(o))}return r}function dD(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Bu(r,t,l,c)}}function fD(n,e){let t=n[Fr],r=t?t.get(Kt,null):null;r&&r.handleError(e)}function Nd(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];Bu(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];Bu(u,c,r,i),a=!0}return a}function hD(n,e){let t=Mt(e,n),r=t[J];pD(r,t);let i=t[Jt];i!==null&&t[oa]===null&&(t[oa]=Bm(i,t[Fr])),oe(18),kd(r,t,t[He]),oe(19,t[He])}function pD(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function kd(n,e,t){md(e);try{let r=n.viewQuery;r!==null&&$u(1,r,t);let i=n.template;i!==null&&tv(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[jr]?.finishViewCreation(n),n.staticContentQueries&&Hm(n,e),n.staticViewQueries&&$u(2,n.viewQuery,t);let o=n.components;o!==null&&gD(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[V]&=-5,vd()}}function gD(n,e){for(let t=0;t<e.length;t++)hD(n,e[t])}function mD(n,e,t,r){let i=W(null);try{let o=e.tView,a=n[V]&4096?4096:16,l=Ad(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[Lr]=c;let u=n[jr];return u!==null&&(l[jr]=u.createEmbeddedView(o)),kd(o,l,t),l}finally{W(i)}}function ng(n,e){return!e||e.firstChild===null||Nm(n)}var vD;function Pd(n,e){return vD(n,e)}var Zt=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zt||{});function ov(n){return(n.flags&32)===32}function Or(n,e,t,r,i){if(r!=null){let o,s=!1;Qt(r)?o=r:pn(r)&&(s=!0,r=r[Jt]);let a=It(r);n===0&&t!==null?i==null?Ym(e,t,a):_a(e,t,a,i||null,!0):n===1&&t!==null?_a(e,t,a,i||null,!0):n===2?JC(e,a,s):n===3&&e.destroyNode(a),o!=null&&TD(e,n,o,t,i)}}function yD(n,e){sv(n,e),e[Jt]=null,e[yt]=null}function _D(n,e,t,r,i,o){r[Jt]=i,r[yt]=e,Fa(n,r,t,1,i,o)}function sv(n,e){e[qt].changeDetectionScheduler?.notify(9),Fa(n,e,e[Se],2,null,null)}function wD(n){let e=n[Ki];if(!e)return pu(n[J],n);for(;e;){let t=null;if(pn(e))t=e[Ki];else{let r=e[it];r&&(t=r)}if(!t){for(;e&&!e[mt]&&e!==n;)pn(e)&&pu(e[J],e),e=e[Fe];e===null&&(e=n),pn(e)&&pu(e[J],e),t=e&&e[mt]}e=t}}function Fd(n,e){let t=n[ca],r=t.indexOf(e);t.splice(r,1)}function av(n,e){if(qr(e))return;let t=e[Se];t.destroyNode&&Fa(n,e,t,3,null,null),wD(e)}function pu(n,e){if(qr(e))return;let t=W(null);try{e[V]&=-129,e[V]|=256,e[rt]&&Lc(e[rt]),CD(n,e),bD(n,e),e[J].type===1&&e[Se].destroy();let r=e[Lr];if(r!==null&&Qt(e[Fe])){r!==e[Fe]&&Fd(r,e);let i=e[jr];i!==null&&i.detachView(n)}Vu(e)}finally{W(t)}}function bD(n,e){let t=n.cleanup,r=e[sa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[sa]=null);let i=e[hn];if(i!==null){e[hn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[aa];if(o!==null){e[aa]=null;for(let s of o)s.destroy()}}function CD(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof jn)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];oe(4,a,l);try{l.call(a)}finally{oe(5,a,l)}}else{oe(4,i,o);try{o.call(i)}finally{oe(5,i,o)}}}}}function DD(n,e,t){return ED(n,e.parent,t)}function ED(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Jt];if(zr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xt.None||i===xt.Emulated)return null}return Xt(r,t)}function SD(n,e,t){return MD(n,e,t)}function ID(n,e,t){return n.type&40?Xt(n,t):null}var MD=ID,rg;function Ld(n,e,t,r){let i=DD(n,r,e),o=e[Se],s=r.parent||e[yt],a=SD(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)tg(o,i,t[l],a,!1);else tg(o,i,t,a,!1);rg!==void 0&&rg(o,r,e,t,i)}function Hi(n,e){if(e!==null){let t=e.type;if(t&3)return Xt(e,n);if(t&4)return Hu(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Hi(n,r);{let i=n[e.index];return Qt(i)?Hu(-1,i):It(i)}}else{if(t&128)return Hi(n,e.next);if(t&32)return Pd(e,n)()||It(n[e.index]);{let r=lv(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fn(n[Et]);return Hi(i,r)}else return Hi(n,e.next)}}}return null}function lv(n,e){if(e!==null){let r=n[Et][yt],i=e.projection;return r.projection[i]}return null}function Hu(n,e){let t=it+n+1;if(t<e.length){let r=e[t],i=r[J].firstChild;if(i!==null)return Hi(r,i)}return e[Pn]}function jd(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&io(It(a),r),t.flags|=2),!ov(t))if(l&8)jd(n,e,t.child,r,i,o,!1),Or(e,n,i,a,o);else if(l&32){let c=Pd(t,r),u;for(;u=c();)Or(e,n,i,u,o);Or(e,n,i,a,o)}else l&16?xD(n,e,r,t,i,o):Or(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fa(n,e,t,r,i,o){jd(t,r,n.firstChild,e,i,o,!1)}function xD(n,e,t,r,i,o){let s=t[Et],l=s[yt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Or(e,n,i,u,o)}else{let c=l,u=s[Fe];Nm(r)&&(c.flags|=128),jd(n,e,c,u,i,o,!0)}}function TD(n,e,t,r,i){let o=t[Pn],s=It(t);o!==s&&Or(e,n,r,o,i);for(let a=it;a<t.length;a++){let l=t[a];Fa(l[J],l,n,e,r,o)}}function AD(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zt.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zt.Important),n.setStyle(t,r,i,o))}}function wa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(It(o)),Qt(o)&&OD(o,r);let s=t.type;if(s&8)wa(n,e,t.child,r);else if(s&32){let a=Pd(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=lv(e,t);if(Array.isArray(a))r.push(...a);else{let l=Fn(e[Et]);wa(l[J],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function OD(n,e){for(let t=it;t<n.length;t++){let r=n[t],i=r[J].firstChild;i!==null&&wa(r[J],r,i,e)}n[Pn]!==n[Jt]&&e.push(n[Pn])}function cv(n){if(n[du]!==null){for(let e of n[du])e.impl.addSequence(e);n[du].length=0}}var uv=[];function RD(n){return n[rt]??ND(n)}function ND(n){let e=uv.pop()??Object.create(PD);return e.lView=n,e}function kD(n){n.lView[rt]!==n&&(n.lView=null,uv.push(n))}var PD=G(E({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Oa(n.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function FD(n){let e=n[rt]??Object.create(LD);return e.lView=n,e}var LD=G(E({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Fn(n.lView);for(;e&&!dv(e[J]);)e=Fn(e);e&&Jg(e)},consumerOnSignalRead(){this.lView[rt]=this}});function dv(n){return n.type!==2}function fv(n){if(n[aa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[aa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[V]&8192)}}var jD=100;function hv(n,e=!0,t=0){let i=n[qt].rendererFactory,o=!1;o||i.begin?.();try{VD(n,t)}catch(s){throw e&&fD(n,s),s}finally{o||i.end?.()}}function VD(n,e){let t=im();try{$p(!0),zu(n,e);let r=0;for(;Aa(n);){if(r===jD)throw new O(103,!1);r++,zu(n,1)}}finally{$p(t)}}function UD(n,e,t,r){if(qr(e))return;let i=e[V],o=!1,s=!1;md(e);let a=!0,l=null,c=null;o||(dv(n)?(c=RD(e),l=hs(c)):Oc()===null?(a=!1,c=FD(e),l=hs(c)):e[rt]&&(Lc(e[rt]),e[rt]=null));try{Yg(e),jb(n.bindingStartIndex),t!==null&&tv(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Ys(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Js(e,f,0,null),fu(e,0)}if(s||$D(e),fv(e),pv(e,0),n.contentQueries!==null&&Hm(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Ys(e,f)}else{let f=n.contentHooks;f!==null&&Js(e,f,1),fu(e,1)}HD(n,e);let d=n.components;d!==null&&mv(e,d,0);let h=n.viewQuery;if(h!==null&&$u(2,h,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Ys(e,f)}else{let f=n.viewHooks;f!==null&&Js(e,f,2),fu(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uu]){for(let f of e[uu])f();e[uu]=null}o||(cv(e),e[V]&=-73)}catch(u){throw o||Oa(e),u}finally{c!==null&&(Pc(c,l),a&&kD(c)),vd()}}function pv(n,e){for(let t=Fm(n);t!==null;t=Lm(t))for(let r=it;r<t.length;r++){let i=t[r];gv(i,e)}}function $D(n){for(let e=Fm(n);e!==null;e=Lm(e)){if(!(e[V]&2))continue;let t=e[ca];for(let r=0;r<t.length;r++){let i=t[r];Jg(i)}}}function BD(n,e,t){oe(18);let r=Mt(e,n);gv(r,t),oe(19,r[He])}function gv(n,e){pd(n)&&zu(n,e)}function zu(n,e){let r=n[J],i=n[V],o=n[rt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fc(o)),s||=!1,o&&(o.dirty=!1),n[V]&=-9217,s)UD(r,n,r.template,n[He]);else if(i&8192){fv(n),pv(n,1);let a=r.components;a!==null&&mv(n,a,1),cv(n)}}function mv(n,e,t){for(let r=0;r<e.length;r++)BD(n,e[r],t)}function HD(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ln(~i);else{let o=i,s=t[++r],a=t[++r];Ub(s,o);let l=e[o];oe(24,l),a(2,l),oe(25,l)}}}finally{Ln(-1)}}function Vd(n,e){let t=im()?64:1088;for(n[qt].changeDetectionScheduler?.notify(e);n;){n[V]|=t;let r=Fn(n);if(ua(n)&&!r)return n;n=r}return null}function vv(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function zD(n,e,t,r=!0){let i=e[J];if(qD(i,e,n,t),r){let s=Hu(t,n),a=e[Se],l=a.parentNode(n[Pn]);l!==null&&_D(i,n[yt],a,e,l,s)}let o=e[oa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qu(n,e){if(n.length<=it)return;let t=it+e,r=n[t];if(r){let i=r[Lr];i!==null&&i!==n&&Fd(i,r),e>0&&(n[t-1][mt]=r[mt]);let o=ra(n,it+e);yD(r[J],r);let s=o[jr];s!==null&&s.detachView(o[J]),r[Fe]=null,r[mt]=null,r[V]&=-129}return r}function qD(n,e,t,r){let i=it+r,o=t.length;r>0&&(t[i-1][mt]=e),r<o-it?(e[mt]=t[i],Ng(t,it+r,e)):(t.push(e),e[mt]=null),e[Fe]=t;let s=e[Lr];s!==null&&t!==s&&yv(s,e);let a=e[jr];a!==null&&a.insertView(n),Tu(e),e[V]|=128}function yv(n,e){let t=n[ca],r=e[Fe];if(pn(r))n[V]|=2;else{let i=r[Fe][Et];e[Et]!==i&&(n[V]|=2)}t===null?n[ca]=[e]:t.push(e)}var Ji=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[J];return wa(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return qr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(Qt(e)){let t=e[la],r=t?t.indexOf(this):-1;r>-1&&(qu(e,r),ra(t,r))}this._attachedToViewContainer=!1}av(this._lView[J],this._lView)}onDestroy(e){Qg(this._lView,e)}markForCheck(){Vd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Tu(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,hv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ua(this._lView),t=this._lView[Lr];t!==null&&!e&&Fd(t,this._lView),sv(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let t=ua(this._lView),r=this._lView[Lr];r!==null&&!t&&yv(r,this._lView),Tu(this._lView)}};var La=(()=>{class n{static __NG_ELEMENT_ID__=KD}return n})(),GD=La,WD=class extends GD{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=mD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ji(i)}};function KD(){return ZD(at(),ce())}function ZD(n,e){return n.type&4?new WD(e,n,Na(n,e)):null}function Ud(n,e,t,r,i){let o=n.data[e];if(o===null)o=YD(n,e,t,r,i),Vb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Pb();o.injectorIndex=s===null?-1:s.injectorIndex}return no(o,!0),o}function YD(n,e,t,r,i){let o=nm(),s=rm(),a=s?o:o&&o.parent,l=n.data[e]=QD(n,a,t,e,r,i);return JD(n,l,o,s),l}function JD(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function QD(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Rb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FP=new RegExp(`^(\\d+)*(${MC}|${IC})*(.*)`);var XD=()=>null;function ig(n,e){return XD(n,e)}var eE=class{},_v=class{},Gu=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Be(e)}.`)}},ja=class{static NULL=new Gu},Vr=class{},zn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>tE()}return n})();function tE(){let n=ce(),e=at(),t=Mt(e.index,n);return(pn(t)?t:n)[Se]}var nE=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();var gu={},Wu=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ma(r);let i=this.injector.get(e,gu,r);return i!==gu||t===gu?i:this.parentInjector.get(e,t,r)}};function og(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Rp(i,a);else if(o==2){let l=a,c=e[++s];r=Rp(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function M(n,e=$.Default){let t=ce();if(t===null)return B(n,e);let r=at();return Cm(r,t,Pe(n),e)}function wv(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,c=null,u=iE(s);u===null?a=s:[a,l,c]=u,aE(n,e,t,a,o,l,c)}o!==null&&r!==null&&rE(t,r,o)}function rE(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}function iE(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&St(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,oE(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function oE(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function sE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function aE(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&St(f)&&(l=!0,sE(n,t,h)),Nu(pa(t,e),n,f.type)}hE(t,n.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Xm(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Zi(t.mergedAttrs,f.hostAttrs),cE(n,t,e,d,f),fE(d,f,i),s!==null&&s.has(f)){let[w,b]=s.get(f);t.directiveToIndex.set(f.type,[d,w+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}lE(n,t,o)}function lE(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))sg(0,e,i,r),sg(1,e,i,r),lg(e,r,!1);else{let o=t.get(i);ag(0,e,o,r),ag(1,e,o,r),lg(e,r,!0)}}}function sg(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),bv(e,o)}}function ag(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),bv(e,s)}}function bv(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function lg(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||xd(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function cE(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new jn(o,St(i),M);n.blueprint[r]=s,t[r]=s,uE(n,e,r,Xm(n,t,i.hostVars,vn),i)}function uE(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;dE(s)!=a&&s.push(a),s.push(t,r,o)}}function dE(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function fE(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;St(e)&&(t[""]=n)}}function hE(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Cv(n,e,t,r,i,o,s,a){let l=e.consts,c=da(l,s),u=Ud(e,n,2,r,c);return o&&wv(e,t,u,da(l,a),i),u.mergedAttrs=Zi(u.mergedAttrs,u.attrs),u.attrs!==null&&og(u,u.attrs,!1),u.mergedAttrs!==null&&og(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Dv(n,e){pm(n,e),Hg(e)&&n.queries.elementEnd(e)}var ba=class extends ja{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=kr(e);return new Qi(t,this.ngModule)}};function pE(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Pa.SignalBased)!==0};return i&&(o.transform=i),o})}function gE(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function mE(n,e,t){let r=e instanceof ot?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Wu(t,r):t}function vE(n){let e=n.get(Vr,null);if(e===null)throw new O(407,!1);let t=n.get(nE,null),r=n.get(Yi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function yE(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Zm(e,t,t==="svg"?Eb:t==="math"?Sb:null)}var Qi=class extends _v{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=pE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gE(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=WC(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){oe(22);let o=W(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:KC(this.componentDef.selectors[0]),l=Td(0,null,null,1,0,null,null,null,null,[a],null),c=mE(s,i||this.ngModule,e),u=vE(c),d=u.rendererFactory.createRenderer(null,s),h=r?rD(d,r,s.encapsulation,c):yE(s,d),f=Ad(null,l,null,512|Qm(s),null,null,u,d,c,null,Bm(h,c,!0));f[Gt]=h,md(f);let g=null;try{let w=Cv(Gt,l,f,"#host",()=>[this.componentDef],!0,0);h&&(Jm(d,h,w),io(h,f)),Rd(l,f,w),zm(l,w,f),Dv(l,w),t!==void 0&&_E(w,this.ngContentSelectors,t),g=Mt(w.index,f),f[He]=g[He],kd(l,f,null)}catch(w){throw g!==null&&Vu(g),Vu(f),w}finally{oe(23),vd()}return new Ku(this.componentType,f)}finally{W(o)}}},Ku=class extends eE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Zg(t[J],Gt),this.location=Na(this._tNode,t),this.instance=Mt(this._tNode.index,t)[He],this.hostView=this.changeDetectorRef=new Ji(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Nd(r,i[J],i,e,t);this.previousInputValues.set(e,t);let s=Mt(r.index,i);Vd(s,1)}get injector(){return new Nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _E(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wr=(()=>{class n{static __NG_ELEMENT_ID__=wE}return n})();function wE(){let n=at();return CE(n,ce())}var bE=Wr,Ev=class extends bE{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new Nn(this._hostTNode,this._hostLView)}get parentInjector(){let e=wd(this._hostTNode,this._hostLView);if(mm(e)){let t=ha(e,this._hostLView),r=fa(e),i=t[J].data[r+8];return new Nn(i,t)}else return new Nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=cg(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-it}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ig(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ng(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!wb(e),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new Qi(kr(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(ot,null);w&&(o=w)}let u=kr(l.componentType??{}),d=ig(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,o);return this.insertImpl(f.hostView,a,ng(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Ib(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Fe],c=new Ev(l,l[yt],l[Fe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return zD(s,i,o,r),e.attachToViewContainerRef(),Ng(mu(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=cg(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qu(this._lContainer,t);r&&(ra(mu(this._lContainer),t),av(r[J],r))}detach(e){let t=this._adjustIndex(e,-1),r=qu(this._lContainer,t);return r&&ra(mu(this._lContainer),t)!=null?new Ji(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function cg(n){return n[la]}function mu(n){return n[la]||(n[la]=[])}function CE(n,e){let t,r=e[n.index];return Qt(r)?t=r:(t=vv(r,e,null,n),e[n.index]=t,Od(e,t)),EE(t,e,n,r),new Ev(t,n,e)}function DE(n,e){let t=n[Se],r=t.createComment(""),i=Xt(e,n),o=t.parentNode(i);return _a(t,o,r,t.nextSibling(i),!1),r}var EE=ME,SE=()=>!1;function IE(n,e,t){return SE(n,e,t)}function ME(n,e,t,r){if(n[Pn])return;let i;t.type&8?i=It(r):i=DE(e,t),n[Pn]=i}var Ur=class{},$d=class{};var Zu=class extends Ur{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ba(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Fg(e);this._bootstrapComponents=Wm(o.bootstrap),this._r3Injector=Sm(e,t,[{provide:Ur,useValue:this},{provide:ja,useValue:this.componentFactoryResolver},...r],Be(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yu=class extends $d{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zu(this.moduleType,e,[])}};var Ca=class extends Ur{injector;componentFactoryResolver=new ba(this);instance=null;constructor(e){super();let t=new Wi([...e.providers,{provide:Ur,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],e.parent||fd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Va(n,e,t=null){return new Ca({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xE=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lg(!1,t.type),i=r.length>0?Va([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(B(ot))})}return n})();function Te(n){return eo(()=>{let e=Sv(n),t=G(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xE).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xt.Emulated,styles:n.styles||nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Md("NgStandalone"),Iv(t);let r=n.dependencies;return t.directiveDefs=ug(r,!1),t.pipeDefs=ug(r,!0),t.id=NE(t),t})}function TE(n){return kr(n)||ab(n)}function AE(n){return n!==null}function yn(n){return eo(()=>({type:n.type,bootstrap:n.bootstrap||nt,declarations:n.declarations||nt,imports:n.imports||nt,exports:n.exports||nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OE(n,e){if(n==null)return kn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Pa.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function RE(n){if(n==null)return kn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function me(n){return eo(()=>{let e=Sv(n);return Iv(e),e})}function Sv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||kn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OE(n.inputs,e),outputs:RE(n.outputs),debugInfo:null}}function Iv(n){n.features?.forEach(e=>e(n))}function ug(n,e){if(!n)return null;let t=e?lb:TE;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(AE)}function NE(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kE(n){return Object.getPrototypeOf(n.prototype).constructor}function _t(n){let e=kE(n.type),t=!0,r=[n];for(;e;){let i;if(St(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=vu(n.inputs),s.declaredInputs=vu(n.declaredInputs),s.outputs=vu(n.outputs);let a=i.hostBindings;a&&VE(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&LE(n,l),c&&jE(n,c),PE(n,i),Vw(n.outputs,i.outputs),St(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}FE(r)}function PE(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function FE(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zi(i.hostAttrs,t=Zi(t,i.hostAttrs))}}function vu(n){return n===kn?{}:n===nt?[]:n}function LE(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function jE(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function VE(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Mv(n){return $E(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function UE(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $E(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function $r(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function BE(n,e,t,r){let i=$r(n,e,t);return $r(n,e+1,r)||i}function HE(n,e,t,r,i,o,s,a,l){let c=e.consts,u=Ud(e,n,4,s||null,a||null);tm()&&wv(e,t,u,da(c,l),iv),u.mergedAttrs=Zi(u.mergedAttrs,u.attrs),pm(e,u);let d=u.tView=Td(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function zE(n,e,t,r,i,o,s,a,l,c){let u=t+Gt,d=e.firstCreatePass?HE(u,e,n,r,i,o,s,a,l):e.data[u];no(d,!1);let h=qE(e,n,d,t);yd()&&Ld(e,n,h,d),io(h,n);let f=vv(h,n,h,d);return n[u]=f,Od(n,f),IE(f,d,n),hd(d)&&Rd(e,n,d),l!=null&&nv(n,d,c),d}function F(n,e,t,r,i,o,s,a){let l=ce(),c=st(),u=da(c.consts,o);return zE(l,c,n,e,t,r,i,u,s,a),F}var qE=GE;function GE(n,e,t,r){return _d(!0),e[Se].createComment("")}var xv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Tv=new R("");var WE=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Ju})}return n})(),Ju=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function qn(n){return!!n&&typeof n.then=="function"}function Av(n){return!!n&&typeof n.subscribe=="function"}var KE=new R("");var Ov=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(KE,{optional:!0})??[];injector=I(Wt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=vt(this.injector,i);if(qn(o))t.push(o);else if(Av(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bd=new R("");function ZE(){Vc(()=>{throw new O(600,!1)})}function YE(n){return n.isBoundToModule}var JE=10;var Vn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(mC);afterRenderManager=I(TC);zonelessEnabled=I(bd);rootEffectScheduler=I(WE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _e;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(Gr).hasPendingTasks.pipe(Z(t=>!t));constructor(){I(ka,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Wt.NULL){oe(10);let o=t instanceof _v;if(!this._injector.get(Ov).done){let f="";throw new O(405,f)}let a;o?a=t:a=this._injector.get(ja).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=YE(a)?void 0:this._injector.get(Ur),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,h=u.injector.get(Tv,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Qs(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),oe(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($m.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let t=W(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(t),this.afterTick.next(),oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<JE;)oe(14),this.synchronizeOnce(),oe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)QE(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Aa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Qs(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qs(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qs(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QE(n,e,t,r){if(!t&&!Aa(n))return;hv(n,e,t&&!r?0:1)}function XE(n,e,t,r){return $r(n,gd(),t)?e+qi(t)+r:vn}function eS(n,e,t,r,i,o){let s=Lb(),a=BE(n,s,t,i);return om(2),a?e+qi(t)+r+qi(i)+o:vn}function Ks(n,e){return n<<17|e<<2}function Un(n){return n>>17&32767}function tS(n){return(n&2)==2}function nS(n,e){return n&131071|e<<17}function Qu(n){return n|2}function Br(n){return(n&131068)>>2}function yu(n,e){return n&-131069|e<<2}function rS(n){return(n&1)===1}function Xu(n){return n|1}function iS(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Un(s),l=Br(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||to(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let h=Un(n[a+1]);n[r+1]=Ks(h,a),h!==0&&(n[h+1]=yu(n[h+1],r)),n[a+1]=nS(n[a+1],r)}else n[r+1]=Ks(a,0),a!==0&&(n[a+1]=yu(n[a+1],r)),a=r;else n[r+1]=Ks(l,0),a===0?a=r:n[l+1]=yu(n[l+1],r),l=r;c&&(n[r+1]=Qu(n[r+1])),dg(n,u,r,!0),dg(n,u,r,!1),oS(e,u,n,r,o),s=Ks(a,l),o?e.classBindings=s:e.styleBindings=s}function oS(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&to(o,e)>=0&&(t[r+1]=Xu(t[r+1]))}function dg(n,e,t,r){let i=n[t+1],o=e===null,s=r?Un(i):Br(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];sS(l,e)&&(a=!0,n[s+1]=r?Xu(c):Qu(c)),s=r?Un(c):Br(c)}a&&(n[t+1]=r?Qu(i):Xu(i))}function sS(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?to(n,e)>=0:!1}function C(n,e,t){let r=ce(),i=gd();if($r(r,i,e)){let o=st(),s=fm();rv(o,s,r,n,e,r[Se],t,!1)}return C}function fg(n,e,t,r,i){Nd(e,n,t,i?"class":"style",r)}function Kr(n,e){return aS(n,e,null,!0),Kr}function aS(n,e,t,r){let i=ce(),o=st(),s=om(2);if(o.firstUpdatePass&&cS(o,n,s,r),e!==vn&&$r(i,s,e)){let a=o.data[Bn()];pS(o,a,i,i[Se],n,i[s+1]=gS(e,t),r,s)}}function lS(n,e){return e>=n.expandoStartIndex}function cS(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Bn()],s=lS(n,t);mS(o,r)&&e===null&&!s&&(e=!1),e=uS(i,o,e,r),iS(i,o,e,t,s,r)}}function uS(n,e,t,r){let i=Bb(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=_u(null,n,e,t,r),t=Xi(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=_u(i,n,e,t,r),o===null){let l=dS(n,e,r);l!==void 0&&Array.isArray(l)&&(l=_u(null,n,e,l[1],r),l=Xi(l,e.attrs,r),fS(n,e,r,l))}else o=hS(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function dS(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Br(r)!==0)return n[Un(r)]}function fS(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Un(i)]=r}function hS(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xi(r,s,t)}return Xi(r,e.attrs,t)}function _u(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xi(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Xi(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ob(n,s,t?!0:e[++o]))}return n===void 0?null:n}function pS(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=rS(c)?hg(l,e,t,i,Br(c),s):void 0;if(!Da(u)){Da(o)||tS(c)&&(o=hg(l,null,t,i,a,s));let d=Kg(Bn(),t);AD(r,s,d,i,o)}}function hg(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=t[i+1];h===vn&&(h=d?nt:void 0);let f=d?lu(h,r):u===r?h:void 0;if(c&&!Da(f)&&(f=lu(l,r)),Da(f)&&(a=f,s))return a;let g=n[i+1];i=s?Un(g):Br(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=lu(l,r))}return a}function Da(n){return n!==void 0}function gS(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Be(qm(n)))),n}function mS(n,e){return(n.flags&(e?8:16))!==0}function v(n,e,t,r){let i=ce(),o=st(),s=Gt+n,a=i[Se],l=o.firstCreatePass?Cv(s,o,i,e,iv,tm(),t,r):o.data[s],c=vS(o,i,l,a,e,n);i[s]=c;let u=hd(l);return no(l,!0),Jm(a,c,l),!ov(l)&&yd()&&Ld(o,i,c,l),(Tb()===0||u)&&io(c,i),Ab(),u&&(Rd(o,i,l),zm(o,l,i)),r!==null&&nv(i,l),v}function m(){let n=at();rm()?Fb():(n=n.parent,no(n,!1));let e=n;Nb(e)&&kb(),Ob();let t=st();return t.firstCreatePass&&Dv(t,e),e.classesWithoutHost!=null&&Kb(e)&&fg(t,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Zb(e)&&fg(t,e,ce(),e.stylesWithoutHost,!1),m}function Q(n,e,t,r){return v(n,e,t,r),m(),Q}var vS=(n,e,t,r,i,o)=>(_d(!0),Zm(r,i,qb()));function Tt(){return ce()}var Ea="en-US";var yS=Ea;function _S(n){typeof n=="string"&&(yS=n.toLowerCase().replace(/_/g,"-"))}function pg(n,e,t){return function r(i){if(i===Function)return t;let o=zr(n)?Mt(n.index,e):e;Vd(o,5);let s=e[He],a=gg(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=gg(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function gg(n,e,t,r){let i=W(null);try{return oe(6,e,t),t(r)!==!1}catch(o){return wS(n,o),!1}finally{oe(7,e,t),W(i)}}function wS(n,e){let t=n[Fr],r=t?t.get(Kt,null):null;r&&r.handleError(e)}function mg(n,e,t,r,i,o){let s=e[t],a=e[J],c=a.data[t].outputs[r],u=s[c],d=a.firstCreatePass?em(a):null,h=Xg(e),f=u.subscribe(o),g=h.length;h.push(o,f),d&&d.push(i,n.index,g,-(g+1))}function se(n,e,t,r){let i=ce(),o=st(),s=at();return Rv(o,i,i[Se],s,n,e,r),se}function bS(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[sa],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Rv(n,e,t,r,i,o,s){let a=hd(r),c=n.firstCreatePass?em(n):null,u=Xg(e),d=!0;if(r.type&3||s){let h=Xt(r,e),f=s?s(h):h,g=u.length,w=s?D=>s(It(D[r.index])):r.index,b=null;if(!s&&a&&(b=bS(n,e,i,r.index)),b!==null){let D=b.__ngLastListenerFn__||b;D.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,d=!1}else{o=pg(r,e,o),OC(e,f,i,o);let D=t.listen(f,i,o);u.push(o,D),c&&c.push(i,w,g,g+1)}}else o=pg(r,e,o);if(d){let h=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let w=f[g],b=f[g+1];mg(r,e,w,b,i,o)}if(h&&h.length)for(let g of h)mg(r,e,g,i,i,o)}}function k(n=1){return zb(n)}function _(n,e=""){let t=ce(),r=st(),i=n+Gt,o=r.firstCreatePass?Ud(r,i,1,e,null):r.data[i],s=CS(r,t,o,e,n);t[i]=s,yd()&&Ld(r,t,s,o),no(o,!1)}var CS=(n,e,t,r,i)=>(_d(!0),ZC(e[Se],r));function Le(n){return z("",n,""),Le}function z(n,e,t){let r=ce(),i=XE(r,n,e,t);return i!==vn&&Nv(r,Bn(),i),z}function Hd(n,e,t,r,i){let o=ce(),s=eS(o,n,e,t,r,i);return s!==vn&&Nv(o,Bn(),s),Hd}function Nv(n,e,t){let r=Kg(e,n);YC(n[Se],r,t)}function so(n,e,t){Rm(e)&&(e=e());let r=ce(),i=gd();if($r(r,i,e)){let o=st(),s=fm();rv(o,s,r,n,e,r[Se],t,!1)}return so}function Ua(n,e){let t=Rm(n);return t&&n.set(e),t}function ao(n,e){let t=ce(),r=st(),i=at();return Rv(r,t,t[Se],i,n,e),ao}function DS(n,e,t){let r=st();if(r.firstCreatePass){let i=St(n);ed(t,r.data,r.blueprint,i,!0),ed(e,r.data,r.blueprint,i,!1)}}function ed(n,e,t,r,i){if(n=Pe(n),Array.isArray(n))for(let o=0;o<n.length;o++)ed(n[o],e,t,r,i);else{let o=st(),s=ce(),a=at(),l=Pr(n)?n:Pe(n.provide),c=Ug(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Pr(n)||!n.multi){let f=new jn(c,i,M),g=bu(l,e,i?u:u+h,d);g===-1?(Nu(pa(a,s),o,l),wu(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=bu(l,e,u+h,d),g=bu(l,e,u,u+h),w=f>=0&&t[f],b=g>=0&&t[g];if(i&&!b||!i&&!w){Nu(pa(a,s),o,l);let D=IS(i?SS:ES,t.length,i,r,c);!i&&b&&(t[g].providerFactory=D),wu(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(D),s.push(D)}else{let D=kv(t[i?g:f],c,!i&&r);wu(o,n,f>-1?f:g,D)}!i&&r&&b&&t[g].componentProviders++}}}function wu(n,e,t,r){let i=Pr(e),o=hb(e);if(i||o){let l=(o?Pe(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function kv(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bu(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ES(n,e,t,r,i){return td(this.multi,[])}function SS(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ga(r,r[J],this.providerFactory.index,i);s=l.slice(0,a),td(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],td(o,s);return s}function td(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function IS(n,e,t,r,i){let o=new jn(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,kv(o,i,r&&!t),o}function Gn(n,e=[]){return t=>{t.providersResolver=(r,i)=>DS(r,i?i(n):n,e)}}var nd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Pv=(()=>{class n{compileModuleSync(t){return new Yu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Fg(t),o=Wm(i.declarations).reduce((s,a)=>{let l=kr(a);return l&&s.push(new Qi(l)),s},[]);return new nd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MS=(()=>{class n{zone=I(Ee);changeDetectionScheduler=I(Yi);applicationRef=I(Vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xS=new R("",{factory:()=>!1});function Fv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(G(E({},jv()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:Gi,multi:!0,useFactory:()=>{let r=I(MS,{optional:!0});return()=>r.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{let r=I(TS);return()=>{r.initialize()}}},e===!0?{provide:Mm,useValue:!0}:[],{provide:xm,useValue:t??Im}]}function Lv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Fv({ngZoneFactory:()=>{let i=jv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Md("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ud([{provide:xS,useValue:!0},{provide:bd,useValue:!1},r])}function jv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var TS=(()=>{class n{subscription=new he;initialized=!1;zone=I(Ee);pendingTasks=I(Gr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AS=(()=>{class n{appRef=I(Vn);taskService=I(Gr);ngZone=I(Ee);zonelessEnabled=I(bd);tracing=I(ka,{optional:!0});disableScheduling=I(Mm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(va):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(xm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ju||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Kp:Tm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(va+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OS(){return typeof $localize<"u"&&$localize.locale||Ea}var zd=new R("",{providedIn:"root",factory:()=>I(zd,$.Optional|$.SkipSelf)||OS()});var rd=new R(""),RS=new R("");function $i(n){return!n.moduleRef}function NS(n){let e=$i(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{$i(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Kt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),$i(n)){let o=()=>e.destroy(),s=n.platformInjector.get(rd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(rd);s.add(o),n.moduleRef.onDestroy(()=>{Qs(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return PS(r,t,()=>{let o=e.get(Ov);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zd,Ea);if(_S(s||Ea),!e.get(RS,!0))return $i(n)?e.get(Vn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($i(n)){let l=e.get(Vn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return kS(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function kS(n,e){let t=n.injector.get(Vn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new O(-403,!1);e.push(n)}function PS(n,e,t){try{let r=t();return qn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Xs=null;function FS(n=[],e){return Wt.create({name:e,providers:[{provide:xa,useValue:"platform"},{provide:rd,useValue:new Set([()=>Xs=null])},...n]})}function LS(n=[]){if(Xs)return Xs;let e=FS(n);return Xs=e,ZE(),jS(e),e}function jS(n){let e=n.get(Sd,null);vt(n,()=>{e?.forEach(t=>t())})}var lo=(()=>{class n{static __NG_ELEMENT_ID__=VS}return n})();function VS(n){return US(at(),ce(),(n&16)===16)}function US(n,e,t){if(zr(n)&&!t){let r=Mt(n.index,e);return new Ji(r,r)}else if(n.type&175){let r=e[Et];return new Ji(r,e)}return null}var id=class{constructor(){}supports(e){return Mv(e)}create(e){return new od(e)}},$S=(n,e)=>e,od=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||$S}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<vg(r,i,o)?t:r,a=vg(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Mv(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,UE(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sd(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ad=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Sa=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ad,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vg(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function yg(){return new qd([new id])}var qd=(()=>{class n{factories;static \u0275prov=N({token:n,providedIn:"root",factory:yg});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||yg()),deps:[[n,new rb,new nb]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new O(901,!1)}}return n})();function Vv(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;oe(8);try{let o=i?.injector??LS(r),s=[Fv({}),{provide:Yi,useExisting:AS},...t||[]],a=new Ca({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return NS({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{oe(9)}}function Gd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function en(n){return Bc(n)}function co(n,e){return jc(n,e?.equal)}var _g=class{[et];constructor(e){this[et]=e}destroy(){this[et].destroy()}};var Ae=new R("");var Bv=null;function ct(){return Bv}function Wd(n){Bv??=n}var uo=class{},Kd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I(Hv),providedIn:"platform"})}return n})();var Hv=(()=>{class n extends Kd{_location;_history;_doc=I(Ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ct().getBaseHref(this._doc)}onPopState(t){let r=ct().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ct().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function zv(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Uv(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function _n(n){return n&&n[0]!=="?"?`?${n}`:n}var $a=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I(Gv),providedIn:"root"})}return n})(),qv=new R(""),Gv=(()=>{class n extends $a{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_n(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(B(Kd),B(qv,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zr=(()=>{class n{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zS(Uv($v(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_n(r))}normalize(t){return n.stripTrailingSlash(HS(this._basePath,$v(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=_n;static joinWithSlash=zv;static stripTrailingSlash=Uv;static \u0275fac=function(r){return new(r||n)(B($a))};static \u0275prov=N({token:n,factory:()=>BS(),providedIn:"root"})}return n})();function BS(){return new Zr(B($a))}function HS(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $v(n){return n.replace(/\/index.html$/,"")}function zS(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Zd=/\s+/,Wv=[],Yd=(()=>{class n{_ngEl;_renderer;initialClasses=Wv;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Zd):Wv}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Zd):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Zd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(M(mn),M(zn))};static \u0275dir=me({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ba=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},At=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ba(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Kv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Kv(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(M(Wr),M(La),M(qd))};static \u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Kv(n,e){n.context.$implicit=e.item}var Je=(()=>{class n{_viewContainer;_context=new Ha;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zv(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zv(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(M(Wr),M(La))};static \u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ha=class{$implicit=null;ngIf=null};function Zv(n,e){if(n&&!n.createEmbeddedView)throw new O(2020,!1)}var ze=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({})}return n})();function Jd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qd="browser",Yv="server";function za(n){return n===Yv}var fo=class{};var Wa=new R(""),nf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(B(Wa),B(Ee))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ho=class{_doc;constructor(e){this._doc=e}manager},qa="ng-app-id";function Jv(n){for(let e of n)e.remove()}function Qv(n,e){let t=e.createElement("style");return t.textContent=n,t}function qS(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qa}="${e}"],link[${qa}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ef(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var rf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=za(o),qS(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Qv);r?.forEach(i=>this.addUsage(i,this.external,ef))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Jv(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Jv(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Qv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ef(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qa,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(B(Ae),B(Ed),B(Id,8),B(oo))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Xd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},of=/%COMP%/g;var ey="%COMP%",GS=`_nghost-${ey}`,WS=`_ngcontent-${ey}`,KS=!0,ZS=new R("",{providedIn:"root",factory:()=>KS});function YS(n){return WS.replace(of,n)}function JS(n){return GS.replace(of,n)}function ty(n,e){return e.map(t=>t.replace(of,n))}var sf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=za(a),this.defaultRenderer=new po(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xt.ShadowDom&&(r=G(E({},r),{encapsulation:xt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ga?i.applyToHost(t):i instanceof go&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case xt.Emulated:o=new Ga(l,c,r,this.appId,u,s,a,d,h);break;case xt.ShadowDom:return new tf(l,c,t,r,s,a,this.nonce,d,h);default:o=new go(l,c,r,u,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(B(nf),B(rf),B(Ed),B(ZS),B(Ae),B(oo),B(Ee),B(Id),B(ka,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),po=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xd[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xv(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xv(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Xd[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xd[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(t,r,i&Zt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ct().getGlobalEventTarget(this.doc,e),!e))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Xv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tf=class extends po{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=ty(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=ef(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends po{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?ty(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ga=class extends go{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=YS(u),this.hostAttr=JS(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ka=class n extends uo{supportsDOMEvents=!0;static makeCurrent(){Wd(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=QS();return t==null?null:XS(t)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jd(document.cookie,e)}},mo=null;function QS(){return mo=mo||document.head.querySelector("base"),mo?mo.getAttribute("href"):null}function XS(n){return new URL(n,document.baseURI).pathname}var eI=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ry=(()=>{class n extends ho{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(B(Ae))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ny=["alt","control","meta","shift"],tI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nI={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iy=(()=>{class n extends ho{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ct().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ny.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=tI[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ny.forEach(s=>{if(s!==i){let a=nI[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(B(Ae))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function af(n,e,t){return Vv(E({rootComponent:n,platformRef:t?.platformRef},rI(e)))}function rI(n){return{appProviders:[...lI,...n?.providers??[]],platformProviders:aI}}function iI(){Ka.makeCurrent()}function oI(){return new Kt}function sI(){return Vm(document),document}var aI=[{provide:oo,useValue:Qd},{provide:Sd,useValue:iI,multi:!0},{provide:Ae,useFactory:sI}];var lI=[{provide:xa,useValue:"root"},{provide:Kt,useFactory:oI},{provide:Wa,useClass:ry,multi:!0,deps:[Ae]},{provide:Wa,useClass:iy,multi:!0,deps:[Ae]},sf,rf,nf,{provide:Vr,useExisting:sf},{provide:fo,useClass:eI},[]];var oy=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(B(Ae))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U="primary",Ao=Symbol("RouteTitle"),ff=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zn(n){return new ff(n)}function hy(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ot(n[t],e[t]))return!1;return!0}function Ot(n,e){let t=n?hf(n):void 0,r=e?hf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!py(n[i],e[i]))return!1;return!0}function hf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function py(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function gy(n){return n.length>0?n[n.length-1]:null}function Cn(n){return nu(n)?n:qn(n)?de(Promise.resolve(n)):j(n)}var dI={exact:vy,subset:yy},my={exact:fI,subset:hI,ignored:()=>!0};function sy(n,e,t){return dI[t.paths](n.root,e.root,t.matrixParams)&&my[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function fI(n,e){return Ot(n,e)}function vy(n,e,t){if(!Wn(n.segments,e.segments)||!Ja(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!vy(n.children[r],e.children[r],t))return!1;return!0}function hI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>py(n[t],e[t]))}function yy(n,e,t){return _y(n,e,e.segments,t)}function _y(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Wn(i,t)||e.hasChildren()||!Ja(i,t,r))}else if(n.segments.length===t.length){if(!Wn(n.segments,t)||!Ja(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!yy(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Wn(n.segments,i)||!Ja(n.segments,i,r)||!n.children[U]?!1:_y(n.children[U],e,o,r)}}function Ja(n,e,t){return e.every((r,i)=>my[t](n[i].parameters,r.parameters))}var Nt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new X([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zn(this.queryParams),this._queryParamMap}toString(){return mI.serialize(this)}},X=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}},wn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zn(this.parameters),this._parameterMap}toString(){return by(this)}};function pI(n,e){return Wn(n,e)&&n.every((t,r)=>Ot(t.parameters,e[r].parameters))}function Wn(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function gI(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===U&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==U&&(t=t.concat(e(i,r)))}),t}var Oo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new Yn,providedIn:"root"})}return n})(),Yn=class{parse(e){let t=new gf(e);return new Nt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vo(e.root,!0)}`,r=_I(e.queryParams),i=typeof e.fragment=="string"?`#${vI(e.fragment)}`:"";return`${t}${r}${i}`}},mI=new Yn;function Qa(n){return n.segments.map(e=>by(e)).join("/")}function vo(n,e){if(!n.hasChildren())return Qa(n);if(e){let t=n.children[U]?vo(n.children[U],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${vo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=gI(n,(r,i)=>i===U?[vo(n.children[U],!1)]:[`${i}:${vo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[U]!=null?`${Qa(n)}/${t[0]}`:`${Qa(n)}/(${t.join("//")})`}}function wy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Za(n){return wy(n).replace(/%3B/gi,";")}function vI(n){return encodeURI(n)}function pf(n){return wy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xa(n){return decodeURIComponent(n)}function ay(n){return Xa(n.replace(/\+/g,"%20"))}function by(n){return`${pf(n.path)}${yI(n.parameters)}`}function yI(n){return Object.entries(n).map(([e,t])=>`;${pf(e)}=${pf(t)}`).join("")}function _I(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Za(t)}=${Za(i)}`).join("&"):`${Za(t)}=${Za(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wI=/^[^\/()?;#]+/;function lf(n){let e=n.match(wI);return e?e[0]:""}var bI=/^[^\/()?;=#]+/;function CI(n){let e=n.match(bI);return e?e[0]:""}var DI=/^[^=?&#]+/;function EI(n){let e=n.match(DI);return e?e[0]:""}var SI=/^[^&#]+/;function II(n){let e=n.match(SI);return e?e[0]:""}var gf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[U]=new X(e,t)),r}parseSegment(){let e=lf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new wn(Xa(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=CI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=lf(this.remaining);i&&(r=i,this.capture(r))}e[Xa(t)]=Xa(r)}parseQueryParam(e){let t=EI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=II(this.remaining);s&&(r=s,this.capture(r))}let i=ay(t),o=ay(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[U]:new X([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function Cy(n){return n.segments.length>0?new X([],{[U]:n}):n}function Dy(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Dy(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new X(n.segments,e);return MI(t)}function MI(n){if(n.numberOfChildren===1&&n.children[U]){let e=n.children[U];return new X(n.segments.concat(e.segments),e.children)}return n}function ti(n){return n instanceof Nt}function Ey(n,e,t=null,r=null){let i=Sy(n);return Iy(i,e,t,r)}function Sy(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new X(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Cy(r);return e??i}function Iy(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cf(i,i,i,t,r);let o=xI(e);if(o.toRoot())return cf(i,i,new X([],{}),t,r);let s=TI(o,i,n),a=s.processChildren?_o(s.segmentGroup,s.index,o.commands):xy(s.segmentGroup,s.index,o.commands);return cf(i,s.segmentGroup,a,t,r)}function tl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function bo(n){return typeof n=="object"&&n!=null&&n.outlets}function cf(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=My(n,e,t);let a=Cy(Dy(s));return new Nt(a,o,i)}function My(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=My(o,e,t)}),new X(n.segments,r)}var nl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tl(r[0]))throw new O(4003,!1);let i=r.find(bo);if(i&&i!==gy(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nl(t,e,r)}var Xr=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function TI(n,e,t){if(n.isAbsolute)return new Xr(e,!0,0);if(!t)return new Xr(e,!1,NaN);if(t.parent===null)return new Xr(t,!0,0);let r=tl(n.commands[0])?0:1,i=t.segments.length-1+r;return AI(t,i,n.numberOfDoubleDots)}function AI(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Xr(r,!1,i-o)}function OI(n){return bo(n[0])?n[0].outlets:{[U]:n}}function xy(n,e,t){if(n??=new X([],{}),n.segments.length===0&&n.hasChildren())return _o(n,e,t);let r=RI(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new X(n.segments.slice(0,r.pathIndex),{});return o.children[U]=new X(n.segments.slice(r.pathIndex),n.children),_o(o,0,i)}else return r.match&&i.length===0?new X(n.segments,{}):r.match&&!n.hasChildren()?mf(n,e,t):r.match?_o(n,0,i):mf(n,e,t)}function _o(n,e,t){if(t.length===0)return new X(n.segments,{});{let r=OI(t),i={};if(Object.keys(r).some(o=>o!==U)&&n.children[U]&&n.numberOfChildren===1&&n.children[U].segments.length===0){let o=_o(n.children[U],e,t);return new X(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xy(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(n.segments,i)}}function RI(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(bo(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!cy(l,c,s))return o;r+=2}else{if(!cy(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mf(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(bo(o)){let l=NI(o.outlets);return new X(r,l)}if(i===0&&tl(t[0])){let l=n.segments[e];r.push(new wn(l.path,ly(t[0]))),i++;continue}let s=bo(o)?o.outlets[U]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&tl(a)?(r.push(new wn(s,ly(a))),i+=2):(r.push(new wn(s,{})),i++)}return new X(r,{})}function NI(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mf(new X([],{}),0,r))}),e}function ly(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cy(n,e,t){return n==t.path&&Ot(e,t.parameters)}var el="imperative",Ie=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ie||{}),Xe=class{id;url;constructor(e,t){this.id=e,this.url=t}},Jn=class extends Xe{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends Xe{urlAfterRedirects;type=Ie.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qe=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(qe||{}),Co=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Co||{}),Rt=class extends Xe{reason;code;type=Ie.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nn=class extends Xe{reason;code;type=Ie.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ni=class extends Xe{error;target;type=Ie.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Do=class extends Xe{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends Xe{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Xe{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends Xe{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends Xe{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class{route;type=Ie.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ll=class{route;type=Ie.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cl=class{snapshot;type=Ie.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{snapshot;type=Ie.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=Ie.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{snapshot;type=Ie.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eo=class{},ri=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kI(n,e){return n.providers&&!n._injector&&(n._injector=Va(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wt(n){return n.outlet||U}function PI(n,e){let t=n.filter(r=>wt(r)===e);return t.push(...n.filter(r=>wt(r)!==e)),t}function Ro(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ro(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new si(this.rootInjector)}},si=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(B(ot))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=vf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yf(e,this._root).map(t=>t.value)}};function vf(n,e){if(n===e.value)return e;for(let t of e.children){let r=vf(n,t);if(r)return r}return null}function yf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=yf(n,t);if(r.length)return r.unshift(e),r}return[]}var Qe=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var So=class extends pl{snapshot;constructor(e,t){super(e),this.snapshot=t,If(this,e)}toString(){return this.snapshot.toString()}};function Ty(n){let e=FI(n),t=new we([new wn("",{})]),r=new we({}),i=new we({}),o=new we({}),s=new we(""),a=new bn(t,r,o,s,i,U,n,e.root);return a.snapshot=e.root,new So(new Qe(a,[]),e)}function FI(n){let e={},t={},r={},i="",o=new Kn([],e,r,i,t,U,n,null,{});return new Io("",new Qe(o,[]))}var bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(c=>c[Ao]))??j(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Zn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Zn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&Oy(i)&&(r.resolve[Ao]=i.title),r}var Kn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ao]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Io=class extends pl{url;constructor(e,t){super(t),this.url=e,If(this,t)}toString(){return Ay(this._root)}};function If(n,e){e.value._routerState=n,e.children.forEach(t=>If(n,t))}function Ay(n){let e=n.children.length>0?` { ${n.children.map(Ay).join(", ")} } `:"";return`${n.value}${e}`}function uf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ot(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ot(e.params,t.params)||n.paramsSubject.next(t.params),uI(e.url,t.url)||n.urlSubject.next(t.url),Ot(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _f(n,e){let t=Ot(n.params,e.params)&&pI(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_f(n.parent,e.parent))}function Oy(n){return typeof n.title=="string"||n.title===null}var Ry=new R(""),No=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new ge;deactivateEvents=new ge;attachEvents=new ge;detachEvents=new ge;routerOutletData=Om(void 0);parentContexts=I(si);location=I(Wr);changeDetector=I(lo);inputBinder=I(_l,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new wf(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$n]})}return n})(),wf=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===bn?this.route:e===si?this.childContexts:e===Ry?this.outletData:this.parent.get(e,t)}},_l=new R("");var Mf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[No],encapsulation:2})}return n})();function xf(n){let e=n.children&&n.children.map(xf),t=e?G(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==U&&(t.component=Mf),t}function LI(n,e,t){let r=Mo(n,e._root,t?t._root:void 0);return new So(r,e)}function Mo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=jI(n,e,t);return new Qe(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mo(n,a)),s}}let r=VI(e.value),i=e.children.map(o=>Mo(n,o));return new Qe(r,i)}}function jI(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mo(n,r,i);return Mo(n,r)})}function VI(n){return new bn(new we(n.url),new we(n.params),new we(n.queryParams),new we(n.fragment),new we(n.data),n.outlet,n.component,n)}var ii=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ny="ngNavigationCancelingError";function ml(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ky(!1,qe.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ky(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ny]=!0,t.cancellationCode=e,t}function UI(n){return Py(n)&&ti(n.url)}function Py(n){return!!n&&n[Ny]}var $I=(n,e,t,r)=>Z(i=>(new bf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),bf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qr(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qr(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ul(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(uf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ei=class{component;route;constructor(e,t){this.component=e,this.route=t}};function BI(n,e,t){let r=n._root,i=e?e._root:null;return yo(r,i,t,[r.value])}function HI(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ai(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Sg(n)?n:e.get(n):r}function yo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qr(e);return n.children.forEach(s=>{zI(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wo(a,t.getContext(s),i)),i}function zI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qI(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new vl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yo(n,e,a?a.children:null,r,i):yo(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ei(a.outlet.component,s))}else s&&wo(e,a,i),i.canActivateChecks.push(new vl(r)),o.component?yo(n,null,a?a.children:null,r,i):yo(n,null,t,r,i);return i}function qI(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Wn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wn(n.url,e.url)||!Ot(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_f(n,e)||!Ot(n.queryParams,e.queryParams);case"paramsChange":default:return!_f(n,e)}}function wo(n,e,t){let r=Qr(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wo(s,e.children.getContext(o),t):wo(s,null,t):wo(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ei(e.outlet.component,i)):t.canDeactivateChecks.push(new ei(null,i)):t.canDeactivateChecks.push(new ei(null,i))}function ko(n){return typeof n=="function"}function GI(n){return typeof n=="boolean"}function WI(n){return n&&ko(n.canLoad)}function KI(n){return n&&ko(n.canActivate)}function ZI(n){return n&&ko(n.canActivateChild)}function YI(n){return n&&ko(n.canDeactivate)}function JI(n){return n&&ko(n.canMatch)}function Fy(n){return n instanceof Bt||n?.name==="EmptyError"}var Ya=Symbol("INITIAL_VALUE");function oi(){return pt(n=>zs(n.map(e=>e.pipe(Ht(1),su(Ya)))).pipe(Z(e=>{for(let t of e)if(t!==!0){if(t===Ya)return Ya;if(t===!1||QI(t))return t}return!0}),ht(e=>e!==Ya),Ht(1)))}function QI(n){return ti(n)||n instanceof ii}function XI(n,e){return be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?j(G(E({},t),{guardsResult:!0})):eM(s,r,i,n).pipe(be(a=>a&&GI(a)?tM(r,o,n,e):j(a)),Z(a=>G(E({},t),{guardsResult:a})))})}function eM(n,e,t,r){return de(n).pipe(be(i=>sM(i.component,i.route,t,e,r)),zt(i=>i!==!0,!0))}function tM(n,e,t,r){return de(e).pipe(Mr(i=>Ir(rM(i.route.parent,r),nM(i.route,r),oM(n,i.path,t),iM(n,i.route,t))),zt(i=>i!==!0,!0))}function nM(n,e){return n!==null&&e&&e(new dl(n)),j(!0)}function rM(n,e){return n!==null&&e&&e(new cl(n)),j(!0)}function iM(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let i=r.map(o=>qs(()=>{let s=Ro(e)??t,a=ai(o,s),l=KI(a)?a.canActivate(e,n):vt(s,()=>a(e,n));return Cn(l).pipe(zt())}));return j(i).pipe(oi())}function oM(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HI(s)).filter(s=>s!==null).map(s=>qs(()=>{let a=s.guards.map(l=>{let c=Ro(s.node)??t,u=ai(l,c),d=ZI(u)?u.canActivateChild(r,n):vt(c,()=>u(r,n));return Cn(d).pipe(zt())});return j(a).pipe(oi())}));return j(o).pipe(oi())}function sM(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let l=Ro(e)??i,c=ai(a,l),u=YI(c)?c.canDeactivate(n,e,t,r):vt(l,()=>c(n,e,t,r));return Cn(u).pipe(zt())});return j(s).pipe(oi())}function aM(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return j(!0);let o=i.map(s=>{let a=ai(s,n),l=WI(a)?a.canLoad(e,t):vt(n,()=>a(e,t));return Cn(l)});return j(o).pipe(oi(),Ly(r))}function Ly(n){return Zc(Me(e=>{if(typeof e!="boolean")throw ml(n,e)}),Z(e=>e===!0))}function lM(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return j(!0);let o=i.map(s=>{let a=ai(s,n),l=JI(a)?a.canMatch(e,t):vt(n,()=>a(e,t));return Cn(l)});return j(o).pipe(oi(),Ly(r))}var xo=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},To=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Jr(n){return Sr(new xo(n))}function cM(n){return Sr(new O(4e3,!1))}function uM(n){return Sr(ky(!1,qe.GuardRejected))}var Cf=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return j(r);if(i.numberOfChildren>1||!i.children[U])return cM(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:g,title:w}=i,b=vt(o,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:w}));if(b instanceof Nt)throw new To(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new To(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Nt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new X(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Df={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dM(n,e,t,r,i){let o=jy(n,e,t);return o.matched?(r=kI(e,r),lM(r,e,t,i).pipe(Z(s=>s===!0?o:E({},Df)))):j(o)}function jy(n,e,t){if(e.path==="**")return fM(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},Df):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hy)(t,n,e);if(!i)return E({},Df);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fM(n){return{matched:!0,parameters:n.length>0?gy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function uy(n,e,t,r){return t.length>0&&gM(n,t,r)?{segmentGroup:new X(e,pM(r,new X(t,n.children))),slicedSegments:[]}:t.length===0&&mM(n,t,r)?{segmentGroup:new X(n.segments,hM(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new X(n.segments,n.children),slicedSegments:t}}function hM(n,e,t,r){let i={};for(let o of t)if(wl(n,e,o)&&!r[wt(o)]){let s=new X([],{});i[wt(o)]=s}return E(E({},r),i)}function pM(n,e){let t={};t[U]=e;for(let r of n)if(r.path===""&&wt(r)!==U){let i=new X([],{});t[wt(r)]=i}return t}function gM(n,e,t){return t.some(r=>wl(n,e,r)&&wt(r)!==U)}function mM(n,e,t){return t.some(r=>wl(n,e,r))}function wl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vM(n,e,t){return e.length===0&&!n.children[t]}var Ef=class{};function yM(n,e,t,r,i,o,s="emptyOnly"){return new Sf(n,e,t,r,i,s,o).recognize()}var _M=31,Sf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cf(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=uy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:r})=>{let i=new Qe(r,t),o=new Io("",i),s=Ey(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Kn([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,t).pipe(Z(r=>({children:r,rootSnapshot:t})),dn(r=>{if(r instanceof To)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xo?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof Qe?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(Mr(s=>{let a=r.children[s],l=PI(t,s);return this.processSegmentGroup(e,l,a,s,i)}),ou((s,a)=>(s.push(...a),s)),fn(null),iu(),be(s=>{if(s===null)return Jr(r);let a=Vy(s);return wM(a),j(a)}))}processSegment(e,t,r,i,o,s,a){return de(t).pipe(Mr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(dn(c=>{if(c instanceof xo)return j(null);throw c}))),zt(l=>!!l),dn(l=>{if(Fy(l))return vM(r,i,o)?j(new Ef):Jr(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return wt(r)!==s&&(s===U||!wl(i,o,r))?Jr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Jr(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=jy(t,i,o);if(!l)return Jr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_M&&(this.allowRedirects=!1));let f=new Kn(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,dy(i),wt(i),i.component??i._loadedComponent??null,i,fy(i)),g=gl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(be(b=>this.processSegment(e,r,t,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=dM(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(pt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,g=new Kn(h,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,dy(r),wt(r),r.component??r._loadedComponent??null,r,fy(r)),w=gl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:D}=uy(t,h,f,c);if(D.length===0&&b.hasChildren())return this.processChildren(u,c,b,g).pipe(Z(x=>new Qe(g,x)));if(c.length===0&&D.length===0)return j(new Qe(g,[]));let q=wt(r)===o;return this.processSegment(u,c,b,D,q?U:o,!0,g).pipe(Z(x=>new Qe(g,x instanceof Qe?[x]:[])))}))):Jr(t)))}getChildConfig(e,t,r){return t.children?j({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?j({routes:t._loadedRoutes,injector:t._loadedInjector}):aM(e,t,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(e,t).pipe(Me(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):uM(t))):j({routes:[],injector:e})}};function wM(n){n.sort((e,t)=>e.value.outlet===U?-1:t.value.outlet===U?1:e.value.outlet.localeCompare(t.value.outlet))}function bM(n){let e=n.value.routeConfig;return e&&e.path===""}function Vy(n){let e=[],t=new Set;for(let r of n){if(!bM(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Vy(r.children);e.push(new Qe(r.value,i))}return e.filter(r=>!t.has(r))}function dy(n){return n.data||{}}function fy(n){return n.resolve||{}}function CM(n,e,t,r,i,o){return be(s=>yM(n,e,t,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:l})=>G(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function DM(n,e){return be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return j(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Uy(l))s.add(c);let a=0;return de(s).pipe(Mr(l=>o.has(l)?EM(l,r,n,e):(l.data=gl(l,l.parent,n).resolve,j(void 0))),Me(()=>a++),xr(1),be(l=>a===s.size?j(t):Ue))})}function Uy(n){let e=n.children.map(t=>Uy(t)).flat();return[n,...e]}function EM(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Oy(i)&&(o[Ao]=i.title),SM(o,n,e,r).pipe(Z(s=>(n._resolvedData=s,n.data=gl(n,n.parent,t).resolve,null)))}function SM(n,e,t,r){let i=hf(n);if(i.length===0)return j({});let o={};return de(i).pipe(be(s=>IM(n[s],e,t,r).pipe(zt(),Me(a=>{if(a instanceof ii)throw ml(new Yn,a);o[s]=a}))),xr(1),Z(()=>o),dn(s=>Fy(s)?Ue:Sr(s)))}function IM(n,e,t,r){let i=Ro(e)??r,o=ai(n,i),s=o.resolve?o.resolve(e,t):vt(i,()=>o(e,t));return Cn(s)}function df(n){return pt(e=>{let t=n(e);return t?de(t).pipe(Z(()=>e)):j(e)})}var Tf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(t){return t.data[Ao]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I($y),providedIn:"root"})}return n})(),$y=(()=>{class n extends Tf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(B(oy))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Po=new R("",{providedIn:"root",factory:()=>({})}),Fo=new R(""),By=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(Pv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return j(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Cn(t.loadComponent()).pipe(Z(zy),Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ui(()=>{this.componentLoaders.delete(t)})),i=new Er(r,()=>new _e).pipe(Dr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Hy(r,this.compiler,t,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(r)})),s=new Er(o,()=>new _e).pipe(Dr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hy(n,e,t,r){return Cn(n.loadChildren()).pipe(Z(zy),be(i=>i instanceof $d||Array.isArray(i)?j(i):de(e.compileModuleAsync(i))),Z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Fo,[],{optional:!0,self:!0}).flat()),{routes:s.map(xf),injector:o}}))}function MM(n){return n&&typeof n=="object"&&"default"in n}function zy(n){return MM(n)?n.default:n}var bl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I(xM),providedIn:"root"})}return n})(),xM=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qy=new R("");var Gy=new R(""),Wy=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortSubject=new _e;configLoader=I(By);environmentInjector=I(ot);destroyRef=I(Ra);urlSerializer=I(Oo);rootContexts=I(si);location=I(Zr);inputBindingEnabled=I(_l,{optional:!0})!==null;titleStrategy=I(Tf);options=I(Po,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(bl);createViewTransition=I(qy,{optional:!0});navigationErrorHandler=I(Gy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>j(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new al(i)),r=i=>this.events.next(new ll(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(G(E({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new we(null),this.transitions.pipe(ht(r=>r!==null),pt(r=>{let i=!1,o=!1;return j(r).pipe(pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),Ue;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?G(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new nn(s.id,this.urlSerializer.serialize(s.rawUrl),c,Co.IgnoredSameUrlNavigation)),s.resolve(!1),Ue}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return j(s).pipe(pt(c=>(this.events.next(new Jn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ue:Promise.resolve(c))),CM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=G(E({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Do(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new Jn(c,this.urlSerializer.serialize(u),d,h);this.events.next(g);let w=Ty(this.rootComponentType).snapshot;return this.currentTransition=r=G(E({},s),{targetSnapshot:w,urlAfterRedirects:u,extras:G(E({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,j(r)}else{let c="";return this.events.next(new nn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Co.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ue}}),Me(s=>{let a=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=r=G(E({},s),{guards:BI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),XI(this.environmentInjector,s=>this.events.next(s)),Me(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ml(this.urlSerializer,s.guardsResult);let a=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ht(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",qe.GuardRejected),!1)),df(s=>{if(s.guards.canActivateChecks.length!==0)return j(s).pipe(Me(a=>{let l=new ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),pt(a=>{let l=!1;return j(a).pipe(DM(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",qe.NoDataFromResolver)}}))}),Me(a=>{let l=new sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),df(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Me(u=>{l.component=u}),Z(()=>{})));for(let u of l.children)c.push(...a(u));return c};return zs(a(s.targetSnapshot.root)).pipe(fn(null),Ht(1))}),df(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?de(l).pipe(Z(()=>r)):j(r)}),Z(s=>{let a=LI(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=G(E({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Me(()=>{this.events.next(new Eo)}),$I(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ht(1),Me({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),au(this.transitionAbortSubject.pipe(Me(s=>{throw s}))),Ui(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),dn(s=>{if(this.destroyed)return r.resolve(!1),Ue;if(o=!0,Py(s))this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),UI(s)?this.events.next(new ri(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=vt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof ii){let{message:c,cancellationCode:u}=ml(this.urlSerializer,l);this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ri(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ue}))}))}cancelNavigationTransition(t,r,i){let o=new Rt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TM(n){return n!==el}var Ky=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I(AM),providedIn:"root"})}return n})(),yl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},AM=(()=>{class n extends yl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hn(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zy=(()=>{class n{urlSerializer=I(Oo);options=I(Po,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(Zr);urlHandlingStrategy=I(bl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Nt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Ty(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>I(OM),providedIn:"root"})}return n})(),OM=(()=>{class n extends Zy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Jn?this.updateStateMemento():t instanceof nn?this.commitTransition(r):t instanceof Do?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Eo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Rt&&(t.code===qe.GuardRejected||t.code===qe.NoDataFromResolver)?this.restoreHistory(r):t instanceof ni?this.restoreHistory(r,!0):t instanceof tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=E(E({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=E(E({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hn(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Af(n,e){n.events.pipe(ht(t=>t instanceof tn||t instanceof Rt||t instanceof ni||t instanceof nn),Z(t=>t instanceof tn||t instanceof nn?0:(t instanceof Rt?t.code===qe.Redirect||t.code===qe.SupersededByNewNavigation:!1)?2:1),ht(t=>t!==2),Ht(1)).subscribe(()=>{e()})}var RM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(xv);stateManager=I(Zy);options=I(Po,{optional:!0})||{};pendingTasks=I(Gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(Wy);urlSerializer=I(Oo);location=I(Zr);urlHandlingStrategy=I(bl);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(Ky);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Fo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(_l,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rt&&r.code!==qe.Redirect&&r.code!==qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0;else if(r instanceof ri){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TM(i.source)},s);this.scheduleNavigation(a,el,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=Sy(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Iy(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ti(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,el,null,r)}navigate(t,r={skipLocationChange:!1}){return kM(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},RM):r===!1?i=E({},NM):i=r,ti(t))return sy(this.currentUrlTree,t,i);let o=this.parseUrl(t);return sy(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Af(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kM(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new O(4008,!1)}function PM(n){return!(n instanceof Eo)&&!(n instanceof ri)}var LM=new R("");function Of(n,...e){return ud([{provide:Fo,multi:!0,useValue:n},[],{provide:bn,useFactory:jM,deps:[Oe]},{provide:Bd,multi:!0,useFactory:VM},e.map(t=>t.\u0275providers)])}function jM(n){return n.routerState.root}function VM(){let n=I(Wt);return e=>{let t=n.get(Vn);if(e!==t.components[0])return;let r=n.get(Oe),i=n.get(UM);n.get($M)===1&&r.initialNavigation(),n.get(BM,null,$.Optional)?.setUpPreloading(),n.get(LM,null,$.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UM=new R("",{factory:()=>new _e}),$M=new R("",{providedIn:"root",factory:()=>1});var BM=new R("");var o_=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(M(zn),M(mn))};static \u0275dir=me({type:n})}return n})(),jf=(()=>{class n extends o_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hn(n)))(i||n)}})();static \u0275dir=me({type:n,features:[_t]})}return n})(),Bo=new R("");var zM={provide:Bo,useExisting:Yt(()=>kt),multi:!0};function qM(){let n=ct()?ct().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var GM=new R(""),kt=(()=>{class n extends o_{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!qM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(M(zn),M(mn),M(GM,8))};static \u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gn([zM]),_t]})}return n})();function Vf(n){return n==null||Uf(n)===0}function Uf(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var $f=new R(""),Bf=new R(""),WM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fe=class{static min(e){return KM(e)}static max(e){return ZM(e)}static required(e){return YM(e)}static requiredTrue(e){return JM(e)}static email(e){return QM(e)}static minLength(e){return XM(e)}static maxLength(e){return ex(e)}static pattern(e){return tx(e)}static nullValidator(e){return s_()}static compose(e){return f_(e)}static composeAsync(e){return p_(e)}};function KM(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ZM(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function YM(n){return Vf(n.value)?{required:!0}:null}function JM(n){return n.value===!0?null:{required:!0}}function QM(n){return Vf(n.value)||WM.test(n.value)?null:{email:!0}}function XM(n){return e=>{let t=e.value?.length??Uf(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ex(n){return e=>{let t=e.value?.length??Uf(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function tx(n){if(!n)return s_;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Vf(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function s_(n){return null}function a_(n){return n!=null}function l_(n){return qn(n)?de(n):n}function c_(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function u_(n,e){return e.map(t=>t(n))}function nx(n){return!n.validate}function d_(n){return n.map(e=>nx(e)?e:t=>e.validate(t))}function f_(n){if(!n)return null;let e=n.filter(a_);return e.length==0?null:function(t){return c_(u_(t,e))}}function h_(n){return n!=null?f_(d_(n)):null}function p_(n){if(!n)return null;let e=n.filter(a_);return e.length==0?null:function(t){let r=u_(t,e).map(l_);return ru(r).pipe(Z(c_))}}function g_(n){return n!=null?p_(d_(n)):null}function Yy(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function m_(n){return n._rawValidators}function v_(n){return n._rawAsyncValidators}function Rf(n){return n?Array.isArray(n)?n:[n]:[]}function Dl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jy(n,e){let t=Rf(e);return Rf(n).forEach(i=>{Dl(t,i)||t.push(i)}),t}function Qy(n,e){return Rf(e).filter(t=>!Dl(n,t))}var El=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=h_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Qn=class extends El{name;get formDirective(){return null}get path(){return null}},Xn=class extends El{_parent=null;name=null;valueAccessor=null},Sl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xV=G(E({},rx),{"[class.ng-submitted]":"isSubmitted"}),Pt=(()=>{class n extends Sl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(M(Xn,2))};static \u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_t]})}return n})(),fi=(()=>{class n extends Sl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(M(Qn,10))};static \u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_t]})}return n})();var Lo="VALID",Cl="INVALID",ci="PENDING",jo="DISABLED",Dn=class{},Il=class extends Dn{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Vo=class extends Dn{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Uo=class extends Dn{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ui=class extends Dn{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Nf=class extends Dn{source;constructor(e){super(),this.source=e}},kf=class extends Dn{source;constructor(e){super(),this.source=e}};function Hf(n){return(Al(n)?n.validators:n)||null}function ix(n){return Array.isArray(n)?h_(n):n||null}function zf(n,e){return(Al(e)?e.asyncValidators:n)||null}function ox(n){return Array.isArray(n)?g_(n):n||null}function Al(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function y_(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[t])throw new O(1001,"")}function __(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new O(1002,"")})}var di=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(e){en(()=>this.statusReactive.set(e))}_status=co(()=>this.statusReactive());statusReactive=ro(void 0);get valid(){return this.status===Lo}get invalid(){return this.status===Cl}get pending(){return this.status==ci}get disabled(){return this.status===jo}get enabled(){return this.status!==jo}errors;get pristine(){return en(this.pristineReactive)}set pristine(e){en(()=>this.pristineReactive.set(e))}_pristine=co(()=>this.pristineReactive());pristineReactive=ro(!0);get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(e){en(()=>this.touchedReactive.set(e))}_touched=co(()=>this.touchedReactive());touchedReactive=ro(!1);get untouched(){return!this.touched}_events=new _e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qy(e,this._rawAsyncValidators))}hasValidator(e){return Dl(this._rawValidators,e)}hasAsyncValidator(e){return Dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(G(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uo(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(G(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vo(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vo(!0,r))}markAsPending(e={}){this.status=ci;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ui(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(G(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jo,this.errors=null,this._forEachChild(i=>{i.disable(G(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Il(this.value,r)),this._events.next(new ui(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Lo,this._forEachChild(r=>{r.enable(G(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lo||this.status===ci)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Il(this.value,t)),this._events.next(new ui(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(G(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jo:Lo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=l_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ui(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?jo:this.errors?Cl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(Cl)?Cl:Lo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Vo(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Uo(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Al(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ix(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ox(this._rawAsyncValidators)}},Ml=class extends di{constructor(e,t,r){super(Hf(t),zf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){__(this,!0,e),Object.keys(e).forEach(r=>{y_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pf=class extends Ml{};var Ol=new R("",{providedIn:"root",factory:()=>Rl}),Rl="always";function w_(n,e){return[...e.path,n]}function Ff(n,e,t=Rl){qf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ax(n,e),cx(n,e),lx(n,e),sx(n,e)}function Xy(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Tl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sx(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qf(n,e){let t=m_(n);e.validator!==null?n.setValidators(Yy(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=v_(n);e.asyncValidator!==null?n.setAsyncValidators(Yy(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xl(e._rawValidators,i),xl(e._rawAsyncValidators,i)}function Tl(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=m_(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=v_(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return xl(e._rawValidators,r),xl(e._rawAsyncValidators,r),t}function ax(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&b_(n,e)})}function lx(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&b_(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function b_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cx(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ux(n,e){n==null,qf(n,e)}function dx(n,e){return Tl(n,e)}function C_(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function fx(n){return Object.getPrototypeOf(n.constructor)===jf}function hx(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function D_(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===kt?t=o:fx(o)?r=o:i=o}),i||r||t||null}function px(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function e_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function t_(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var $o=class extends di{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Hf(t),zf(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Al(t)&&(t.nonNullable||t.initialValueIsDefault)&&(t_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){e_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){e_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){t_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gx=n=>n instanceof $o;var mx={provide:Xn,useExisting:Yt(()=>Ho)},n_=Promise.resolve(),Ho=(()=>{class n extends Xn{_changeDetectorRef;callSetDisabledState;control=new $o;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=D_(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),C_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ff(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){n_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Gd(r);n_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?w_(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(M(Qn,9),M($f,10),M(Bf,10),M(Bo,10),M(lo,8),M(Ol,8))};static \u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Gn([mx]),_t,$n]})}return n})();var hi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var E_=new R("");var vx={provide:Qn,useExisting:Yt(()=>er)},er=(()=>{class n extends Qn{callSetDisabledState;get submitted(){return en(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=co(()=>this._submittedReactive());_submittedReactive=ro(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ge;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Ff(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Xy(t.control||null,t,!1),px(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),hx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Nf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new kf(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Xy(r||null,t),gx(i)&&(Ff(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ux(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&dx(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qf(this.form,this),this._oldForm&&Tl(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(M($f,10),M(Bf,10),M(Ol,8))};static \u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&se("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gn([vx]),_t,$n]})}return n})();var yx={provide:Xn,useExisting:Yt(()=>tr)},tr=(()=>{class n extends Xn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ge;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=D_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),C_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return w_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(M(Qn,13),M($f,10),M(Bf,10),M(Bo,10),M(E_,8))};static \u0275dir=me({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Gn([yx]),_t,$n]})}return n})();var _x={provide:Bo,useExisting:Yt(()=>pi),multi:!0};function S_(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function wx(n){return n.split(":")[0]}var pi=(()=>{class n extends jf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=S_(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=wx(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hn(n)))(i||n)}})();static \u0275dir=me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&se("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gn([_x]),_t]})}return n})(),Nl=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(S_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(M(mn),M(zn),M(pi,9))};static \u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),bx={provide:Bo,useExisting:Yt(()=>I_),multi:!0};function r_(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Cx(n){return n.split(":")[0]}var I_=(()=>{class n extends jf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Cx(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hn(n)))(i||n)}})();static \u0275dir=me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&se("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gn([bx]),_t]})}return n})(),kl=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(r_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(r_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(M(mn),M(zn),M(I_,9))};static \u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var M_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({})}return n})(),Lf=class extends di{constructor(e,t,r){super(Hf(t),zf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){__(this,!1,e),e.forEach((r,i)=>{y_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function i_(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var gi=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return i_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ml(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Pf(i,r)}control(t,r,i){let o={};return this.useNonNullable?(i_(r)?o=r:(o.validators=r,o.asyncValidators=i),new $o(t,G(E({},o),{nonNullable:!0}))):new $o(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Lf(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof $o)return t;if(t instanceof di)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ol,useValue:t.callSetDisabledState??Rl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({imports:[M_]})}return n})(),mi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:E_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ol,useValue:t.callSetDisabledState??Rl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({imports:[M_]})}return n})();le();var x_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);var qo=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},Fl=class extends qo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Go=class extends qo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Wo=class extends qo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Gf=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Gf||{});var Ko=class{constructor(e,{headers:t={},customFetch:r,region:i=Gf.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=x_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return S(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let g=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(h["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(h["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let b=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);let D=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:b}).catch(ee=>{throw new Fl(ee)}),q=D.headers.get("x-relay-error");if(q&&q==="true")throw new Go(D);if(!D.ok)throw new Wo(D);let x=((i=D.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield D.json():x==="application/octet-stream"||x==="application/pdf"?T=yield D.blob():x==="text/event-stream"?T=D:x==="multipart/form-data"?T=yield D.formData():T=yield D.text(),{data:T,error:null,response:D}}catch(a){return{data:null,error:a,response:a instanceof Wo||a instanceof Go?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var ch=nw(L_(),1),{PostgrestClient:j_,PostgrestQueryBuilder:WV,PostgrestFilterBuilder:KV,PostgrestTransformBuilder:ZV,PostgrestBuilder:YV,PostgrestError:Nx}=ch.default||ch;var uh=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},dh=uh;var V_="2.81.1";var U_=`realtime-js/${V_}`,fh="1.0.0",$_="2.0.0",hh=fh;var Yo=1e4,B_=1e3,H_=100,nr=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(nr||{}),Ce=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Ce||{}),Ge=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Ge||{}),ph=function(n){return n.websocket="websocket",n}(ph||{}),rr=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(rr||{});var jl=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){let{join_ref:t,ref:r,event:i,topic:o,payload:s}=e,a=this.META_LENGTH+t.length+r.length+o.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+a),c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,t.length),c.setUint8(u++,r.length),c.setUint8(u++,o.length),c.setUint8(u++,i.length),Array.from(t,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(r,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(o,h=>c.setUint8(u++,h.charCodeAt(0))),Array.from(i,h=>c.setUint8(u++,h.charCodeAt(0)));var d=new Uint8Array(l.byteLength+s.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(s),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let{join_ref:i,ref:o,topic:s}=e,a=e.payload.event,l=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+c),d=new DataView(u),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,i.length),d.setUint8(h++,o.length),d.setUint8(h++,s.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(i,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(s,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(a,g=>d.setUint8(h++,g.charCodeAt(0)));var f=new Uint8Array(u.byteLength+l.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(l),u.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var t,r;let{join_ref:i,ref:o,topic:s}=e,a=e.payload.event,l=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d),f=new DataView(h),g=0;f.setUint8(g++,this.KINDS.userBroadcastPush),f.setUint8(g++,i.length),f.setUint8(g++,o.length),f.setUint8(g++,s.length),f.setUint8(g++,a.length),f.setUint8(g++,this.JSON_ENCODING),Array.from(i,b=>f.setUint8(g++,b.charCodeAt(0))),Array.from(o,b=>f.setUint8(g++,b.charCodeAt(0))),Array.from(s,b=>f.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>f.setUint8(g++,b.charCodeAt(0)));var w=new Uint8Array(h.byteLength+u.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(u),h.byteLength),w.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){let r=JSON.parse(e),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,i);case this.KINDS.reply:return this._decodeReply(e,t,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodePush(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,l=r.decode(e.slice(a,a+i));a=a+i;let c=r.decode(e.slice(a,a+o));a=a+o;let u=r.decode(e.slice(a,a+s));a=a+s;let d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:d}}_decodeReply(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+this.META_LENGTH,c=r.decode(e.slice(l,l+i));l=l+i;let u=r.decode(e.slice(l,l+o));l=l+o;let d=r.decode(e.slice(l,l+s));l=l+s;let h=r.decode(e.slice(l,l+a));l=l+a;let f=JSON.parse(r.decode(e.slice(l,e.byteLength))),g={status:h,response:f};return{join_ref:c,ref:u,topic:d,event:Ge.reply,payload:g}}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let l=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(e.slice(l,l+i));l=l+i;let u=r.decode(e.slice(l,l+o));l=l+o;let d=r.decode(e.slice(l,l+s));l=l+s;let h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST,event:u,payload:f};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}};var yi=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ae=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(ae||{}),mh=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=kx(s,n,e,i),o),{}):{}},kx=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?z_(o,s):gh(s)},z_=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return jx(e,t)}switch(n){case ae.bool:return Px(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Fx(e);case ae.json:case ae.jsonb:return Lx(e);case ae.timestamp:return Vx(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return gh(e);default:return gh(e)}},gh=n=>n,Px=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Fx=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Lx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},jx=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>z_(e,a))}return n},Vx=n=>typeof n=="string"?n.replace(" ","T"):n,Vl=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var _i=class{constructor(e,t,r={},i=Yo){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Jo=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let h=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),g=u.filter(b=>f.indexOf(b.presence_ref)<0),w=d.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Qo=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(Qo||{}),rn=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(rn||{});var Xo=class n{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new _i(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new yi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Jo(this),this.broadcastEndpointURL=Vl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Qo.PRESENCE]&&this.bindings[Qo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(rn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(rn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var w;if(this.socket.setAuth(),f===void 0){e?.(rn.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,D=(w=b?.length)!==null&&w!==void 0?w:0,q=[];for(let x=0;x<D;x++){let T=b[x],{filter:{event:ee,schema:bt,table:ie,filter:ve}}=T,cn=f&&f[x];if(cn&&cn.event===ee&&cn.schema===bt&&cn.table===ie&&cn.filter===ve)q.push(Object.assign(Object.assign({},T),{id:cn.id}));else{this.unsubscribe(),this.state=Ce.errored,e?.(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,e&&e(rn.SUBSCRIBED);return}})).receive("error",f=>{this.state=Ce.errored,e?.(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===Ce.joined&&e===Qo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}httpSend(i,o){return p(this,arguments,function*(e,t,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let d=yield c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return p(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ce.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _i(this,Ge.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return p(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _i(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>H_){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ge;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,w,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(w=f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,w,b,D,q,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let T=f.id,ee=(g=f.filter)===null||g===void 0?void 0:g.event;return T&&((w=t.ids)===null||w===void 0?void 0:w.includes(T))&&(ee==="*"||ee?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let T=(q=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return T==="*"||T===((x=t?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:w,table:b,commit_timestamp:D,type:q,errors:x}=g;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:D,eventType:q,new:{},old:{},errors:x}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=mh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=mh(e.columns,e.old_record)),t}};var vh=()=>{},Ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$x=[1e3,2e3,5e3,1e4],Bx=1e4,Hx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,es=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yo,this.transport=null,this.heartbeatIntervalMs=Ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.vsn=hh,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new jl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ph.websocket}`,this.httpEndpoint=Vl(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nr.connecting:return rr.Connecting;case nr.open:return rr.Open;case nr.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Xo(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return p(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B_,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===nr.open||this.conn.readyState===nr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([Hx],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return p(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:U_};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yi(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ul.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,s,a,l,c,u,d,h,f;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Yo,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ul.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:vh,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:hh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:g=>$x[g-1]||Bx,this.vsn){case fh:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(g,w)=>w(JSON.stringify(g)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(g,w)=>w(JSON.parse(g));break;case $_:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};le();var wi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ne(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var $l=class extends wi{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ir=class extends wi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};le();var bi=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),q_=()=>Response,Bl=n=>{if(Array.isArray(n))return n.map(t=>Bl(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Bl(r)}),e},G_=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var yh=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},zx=(n,e,t)=>S(void 0,void 0,void 0,function*(){let r=yield q_();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";e(new $l(yh(i),o,s))}).catch(i=>{e(new ir(yh(i),i))}):e(new ir(yh(n),n))}),qx=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(G_(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function ts(n,e,t,r,i,o){return S(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,qx(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>zx(l,a,r))})})}function En(n,e,t,r){return S(this,void 0,void 0,function*(){return ts(n,"GET",e,t,r)})}function We(n,e,t,r,i){return S(this,void 0,void 0,function*(){return ts(n,"POST",e,r,i,t)})}function ns(n,e,t,r,i){return S(this,void 0,void 0,function*(){return ts(n,"PUT",e,r,i,t)})}function W_(n,e,t,r){return S(this,void 0,void 0,function*(){return ts(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ci(n,e,t,r,i){return S(this,void 0,void 0,function*(){return ts(n,"DELETE",e,r,i,t)})}le();le();var Hl=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return S(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}};var K_,_h=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[K_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hl(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return S(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}};K_=Symbol.toStringTag;var Z_=_h;var Gx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},zl=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=bi(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return S(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Y_),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield(e=="PUT"?ns:We)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ne(o))return{data:null,error:o};throw o}})}upload(e,t,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return S(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:Y_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield ns(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return S(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new wi("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}update(e,t,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return S(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}copy(e,t,r){return S(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return S(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield We(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return S(this,void 0,void 0,function*(){try{let i=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}download(e,t){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>En(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Z_(l,this.shouldThrowOnError)}info(e){return S(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield En(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Bl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}exists(e){return S(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield W_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r)&&r instanceof ir){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}list(e,t,r){return S(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},Gx),t),{prefix:e||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}listV2(e,t){return S(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};le();var ql="2.81.1";var Gl={"X-Client-Info":`storage-js/${ql}`};var Wl=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gl),t),this.fetch=bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return S(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield En(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}getBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}createBucket(e){return S(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return S(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}deleteBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};le();var Kl=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gl),t),this.fetch=bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}listBuckets(e){return S(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield En(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}deleteBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}};le();le();var Di={"X-Client-Info":`storage-js/${ql}`,"Content-Type":"application/json"};var Zl=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Re(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ei=class extends Zl{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yl=class extends Zl{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};le();var Si=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);var J_=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Q_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Wx=(n,e,t)=>S(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";e(new Ei(Q_(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new Ei(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new Ei(a,i,s))}}else e(new Yl(Q_(n),n))}),Kx=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(J_(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t))};function Zx(n,e,t,r,i,o){return S(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,Kx(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Wx(l,a,r))})})}function Ne(n,e,t,r,i){return S(this,void 0,void 0,function*(){return Zx(n,"POST",e,r,i,t)})}var Jl=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),t),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return S(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}getIndex(e,t){return S(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listIndexes(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return S(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}};le();var Ql=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),t),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return S(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}getVectors(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}listVectors(e){return S(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ne(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}queryVectors(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}deleteVectors(e){return S(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}};le();var Xl=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),t),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return S(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}getBucket(e){return S(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}listBuckets(){return S(this,arguments,void 0,function*(e={}){try{return{data:yield Ne(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}deleteBucket(e){return S(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Re(t))return{data:null,error:t};throw t}})}};var rs=class extends Xl{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ec(this.url,this.headers,e,this.fetch)}},ec=class extends Jl{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return S(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return S(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return S(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return S(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new tc(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tc=class extends Ql{constructor(e,t,r,i,o){super(e,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return S(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return S(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return S(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return S(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return S(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var is=class extends Wl{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new zl(this.url,this.headers,e,this.fetch)}get vectors(){return new rs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kl(this.url+"/iceberg",this.headers,this.fetch)}};var X_="2.81.1";var os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";var Yx={"X-Client-Info":`supabase-js-${os}/${X_}`},e0={headers:Yx},t0={schema:"public"},n0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r0={};var Jx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Qx=()=>Headers,i0=(n,e,t)=>{let r=Jx(t),i=Qx();return(o,s)=>p(null,null,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};function Xx(n){return n.endsWith("/")?n:n+"/"}function o0(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p(null,null,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function s0(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}le();le();var nc="2.81.1";var or=30*1e3,rc=3,ic=rc*or,a0="http://localhost:9999",l0="supabase.auth.token";var c0={"X-Client-Info":`gotrue-js/${nc}`};var ss="X-Supabase-Api-Version",wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d0=10*60*1e3;var Sn=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function A(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var oc=class extends Sn{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function f0(n){return A(n)&&n.name==="AuthApiError"}var ut=class extends Sn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Ft=class extends Sn{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},Ve=class extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function h0(n){return A(n)&&n.name==="AuthSessionMissingError"}var on=class extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},sr=class extends Ft{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ar=class extends Ft{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function p0(n){return A(n)&&n.name==="AuthImplicitGrantRedirectError"}var as=class extends Ft{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ii=class extends Ft{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function sc(n){return A(n)&&n.name==="AuthRetryableFetchError"}var ls=class extends Ft{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var lr=class extends Ft{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g0=` 	
\r=`.split(""),eT=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<g0.length;e+=1)n[g0[e].charCodeAt(0)]=-2;for(let e=0;e<ac.length;e+=1)n[ac[e].charCodeAt(0)]=e;return n})();function m0(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(ac[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(ac[r]),e.queuedBits-=6}}function v0(n,e,t){let r=eT[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function bh(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{rT(s,r,t)};for(let s=0;s<n.length;s+=1)v0(n.charCodeAt(s),i,o);return e.join("")}function tT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function nT(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}tT(r,e)}}function rT(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function In(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)v0(n.charCodeAt(i),t,r);return new Uint8Array(e)}function y0(n){let e=[];return nT(n,t=>e.push(t)),new Uint8Array(e)}function sn(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>m0(i,t,r)),m0(null,t,r),e.join("")}function _0(n){return Math.round(Date.now()/1e3)+n}function w0(){return Symbol("auth-callback")}var De=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},lc=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function b0(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var cc=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),C0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ur=(n,e,t)=>p(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Mn=(n,e)=>p(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),an=(n,e)=>p(null,null,function*(){yield n.removeItem(e)}),cs=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};cs.promiseConstructor=Promise;function uc(n){let e=n.split(".");if(e.length!==3)throw new lr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!u0.test(e[r]))throw new lr("JWT not in base64url format");return{header:JSON.parse(bh(e[0])),payload:JSON.parse(bh(e[1])),signature:In(e[2]),raw:{header:e[0],payload:e[1]}}}function D0(n){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function E0(n,e){return new Promise((r,i)=>{p(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function iT(n){return("0"+n.toString(16)).substr(-2)}function oT(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,iT).join("")}function sT(n){return p(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function aT(n){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield sT(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function dr(n,e,t=!1){return p(this,null,function*(){let r=oT(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield ur(n,`${e}-code-verifier`,i);let o=yield aT(r);return[o,r===o?"plain":"s256"]})}var lT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S0(n){let e=n.headers.get(ss);if(!e||!e.match(lT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I0(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function M0(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var cT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(n){if(!cT.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dc(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x0(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function Ch(n){return JSON.parse(JSON.stringify(n))}var hr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uT=[502,503,504];function T0(n){return p(this,null,function*(){var e;if(!C0(n))throw new Ii(hr(n),0);if(uT.includes(n.status))throw new Ii(hr(n),n.status);let t;try{t=yield n.json()}catch(o){throw new ut(hr(o),o)}let r,i=S0(n);if(i&&i.getTime()>=wh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ls(hr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ve}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ls(hr(t),n.status,t.weak_password.reasons);throw new oc(hr(t),n.status||500,r)})}var dT=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function P(n,e,t,r){return p(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[ss]||(o[ss]=wh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield fT(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function fT(n,e,t,r,i,o){return p(this,null,function*(){let s=dT(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new Ii(hr(l),0)}if(a.ok||(yield T0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield T0(l)}})}function dt(n){var e;let t=null;hT(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=_0(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Dh(n){let e=dt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Lt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function A0(n){return{data:n,error:null}}function O0(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=$t(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Eh(n){return n}function hT(n){return n.access_token&&n.refresh_token&&n.expires_in}var fc=["global","local","others"];var Mi=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=cc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return p(this,arguments,function*(e,t=fc[0]){if(fc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fc.join(", ")}`);try{return yield P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(A(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return p(this,arguments,function*(e,t={}){try{return yield P(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Lt})}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:t}=e,r=$t(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:O0,redirectTo:t?.redirectTo})}catch(t){if(A(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return p(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Eh});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return p(this,null,function*(){fr(e);try{return yield P(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return p(this,null,function*(){fr(e);try{return yield P(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Lt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return p(this,null,function*(){fr(e);try{return yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Lt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){fr(e.userId);try{let{data:t,error:r}=yield P(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return p(this,null,function*(){fr(e.userId),fr(e.id);try{return{data:yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return p(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Eh});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(A(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return p(this,null,function*(){try{return yield P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}};function Sh(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var pr={debug:!!(globalThis&&lc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},us=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},hc=class extends us{};function Ih(n,e,t){return p(this,null,function*(){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>p(null,null,function*(){if(i){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new hc(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(pr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function R0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mh(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function N0(n){return parseInt(n,16)}function k0(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function P0(n){var e;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=Mh(n.address),g=u?`${u}://${r}`:r,w=n.statement?`${n.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${f}

${w}`,D=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(D+=`
Expiration Time: ${i.toISOString()}`),a&&(D+=`
Not Before: ${a.toISOString()}`),l&&(D+=`
Request ID: ${l}`),c){let q=`
Resources:`;for(let x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);q+=`
- ${x}`}D+=q}return`${b}
${D}`}le();var ue=class extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},gr=class extends ue{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function F0({error:n,options:e}){var t,r,i;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ue({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(xh(s)){if(o.rp.id!==s)return new ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function L0({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ue({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(xh(r)){if(t.rpId!==r)return new ue({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Th=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},pT=new Th;function V0(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,i=$t(n,["challenge","user","excludeCredentials"]),o=In(e).buffer,s=Object.assign(Object.assign({},t),{id:In(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:In(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function U0(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=$t(n,["challenge","allowCredentials"]),i=In(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:In(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function $0(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:sn(new Uint8Array(n.response.attestationObject)),clientDataJSON:sn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B0(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:sn(new Uint8Array(i.authenticatorData)),clientDataJSON:sn(new Uint8Array(i.clientDataJSON)),signature:sn(new Uint8Array(i.signature)),userHandle:i.userHandle?sn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xh(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function j0(){var n,e;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function gT(n){return p(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gr("Browser returned unexpected credential type",e)}:{data:null,error:new gr("Empty credential response",e)}}catch(e){return{data:null,error:F0({error:e,options:n})}}})}function mT(n){return p(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gr("Browser returned unexpected credential type",e)}:{data:null,error:new gr("Empty credential response",e)}}catch(e){return{data:null,error:L0({error:e,options:n})}}})}var vT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pc(...n){let e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(e(s)){let a=r[o];e(a)?r[o]=pc(a,s):r[o]=pc(s)}else r[o]=s}return r}function _T(n,e){return pc(vT,n,e||{})}function wT(n,e){return pc(yT,n,e||{})}var gc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return p(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return p(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};let u=i??pT.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{let d=_T(l.webauthn.credential_options.publicKey,o?.create),{data:h,error:f}=yield gT({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{let d=wT(l.webauthn.credential_options.publicKey,o?.request),{data:h,error:f}=yield mT(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new ut("Unexpected error in challenge",l)}}})}_verify(i){return p(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(s,a){return p(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Sn("rpId is required for WebAuthn authentication")};try{if(!j0())return{data:null,error:new ut("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new ut("Unexpected error in authenticate",l)}}})}_register(s,a){return p(this,arguments,function*({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Sn("rpId is required for WebAuthn registration")};try{if(!j0())return{data:null,error:new ut("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:e});if(!l)return yield this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};let{data:u,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new ut("Unexpected error in register",l)}}})}};R0();var bT={url:a0,storageKey:l0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function H0(n,e,t){return p(this,null,function*(){return yield t()})}var xi={},CT=(()=>{class n{get jwks(){var t,r;return(r=(t=xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},bT),t);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&De()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Mi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cc(s.fetch),this.lock=s.lock||H0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:De()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Ih:this.lock=H0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:lc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nc}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var t;try{let r={},i="none";if(De()&&(r=b0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),De()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),p0(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new ut("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return p(this,null,function*(){var r,i,o;try{let s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:dt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(t){return p(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,w=null;this.flowType==="pkce"&&([g,w]=yield dr(this.storage,this.storageKey)),s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:w},xform:dt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dt})}else throw new sr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(t){return p(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Dh})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Dh})}else throw new sr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new on;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return p(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return p(this,null,function*(){var r,i,o,s,a,l,c,u,d,h,f;let g,w;if("message"in t)g=t.message,w=t.signature;else{let{chain:b,wallet:D,statement:q,options:x}=t,T;if(De())if(typeof D=="object")T=D;else{let Vt=window;if("ethereum"in Vt&&typeof Vt.ethereum=="object"&&"request"in Vt.ethereum&&typeof Vt.ethereum.request=="function")T=Vt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=D}let ee=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href),bt=yield T.request({method:"eth_requestAccounts"}).then(Vt=>Vt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!bt||bt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ie=Mh(bt[0]),ve=(i=x?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ve){let Vt=yield T.request({method:"eth_chainId"});ve=N0(Vt)}let cn={domain:ee.host,address:ie,statement:q,uri:ee.href,version:"1",chainId:ve,nonce:(o=x?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=x?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=P0(cn),w=yield T.request({method:"personal_sign",params:[k0(g),ie]})}try{let{data:b,error:D}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dt});if(D)throw D;if(!b||!b.session||!b.user){let q=new on;return this._returnResult({data:{user:null,session:null},error:q})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:D})}catch(b){if(A(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(t){return p(this,null,function*(){var r,i,o,s,a,l,c,u,d,h,f,g;let w,b;if("message"in t)w=t.message,b=t.signature;else{let{chain:D,wallet:q,statement:x,options:T}=t,ee;if(De())if(typeof q=="object")ee=q;else{let ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))ee=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ee=q}let bt=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ee&&ee.signIn){let ie=yield ee.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:bt.host,uri:bt.href}),x?{statement:x}:null)),ve;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")ve=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)ve=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ve&&"signature"in ve&&(typeof ve.signedMessage=="string"||ve.signedMessage instanceof Uint8Array)&&ve.signature instanceof Uint8Array)w=typeof ve.signedMessage=="string"?ve.signedMessage:new TextDecoder().decode(ve.signedMessage),b=ve.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ee)||typeof ee.signMessage!="function"||!("publicKey"in ee)||typeof ee!="object"||!ee.publicKey||!("toBase58"in ee.publicKey)||typeof ee.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${bt.host} wants you to sign in with your Solana account:`,ee.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${bt.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(d=T?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(ve=>`- ${ve}`)]:[]].join(`
`);let ie=yield ee.signMessage(new TextEncoder().encode(w),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=ie}}try{let{data:D,error:q}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:sn(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:dt});if(q)throw q;if(!D||!D.session||!D.user){let x=new on;return this._returnResult({data:{user:null,session:null},error:x})}return D.session&&(yield this._saveSession(D.session),yield this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:q})}catch(D){if(A(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield Mn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:dt});if(yield an(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new on;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(t){return p(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let d=new on;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield dr(this.storage,this.storageKey));let{error:h}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new sr("You must provide either an email or phone number.")}catch(l){if(A(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(t){return p(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:dt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(t){return p(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield dr(this.storage,this.storageKey));let u=yield P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:A0});return!((s=u.data)===null||s===void 0)&&s.url&&De()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(A(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Ve;let{error:o}=yield P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(t){if(A(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new sr("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=p(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<ic:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Mn(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=dc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=x0(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lt}):yield this._useSession(r=>p(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ve}:yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Lt})}))}catch(r){if(A(r))return h0(r)&&(yield this._removeSession(),yield an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>p(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ve;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield dr(this.storage,this.storageKey));let{data:d,error:h}=yield P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Lt});if(h)throw h;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(A(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ve;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=uc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Ve;let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(t,r){return p(this,null,function*(){try{if(!De())throw new ar("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ar(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new as("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new as("No code detected.");let{data:x,error:T}=yield this._exchangeCodeForSession(t.code);if(T)throw T;let ee=new URL(window.location.href);return ee.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ee.toString()),{data:{session:x.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new ar("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(l),f=d+h;c&&(f=parseInt(c));let g=f-d;g*1e3<=or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);let{data:b,error:D}=yield this._getUser(s);if(D)throw D;let q={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:t.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return p(this,null,function*(){let r=yield Mn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(f0(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(yield this._removeSession(),yield an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){let r=w0(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield dr(this.storage,this.storageKey,!0));try{return yield P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(A(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(t){return p(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return p(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>p(this,null,function*(){var a,l,c,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield P(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return De()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}})}linkIdentityIdToken(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:dt}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new on}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield E0(o=>p(this,null,function*(){return o>0&&(yield D0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&sc(s)&&Date.now()+a-i<or})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),De()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Mn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield ur(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:dc()}else if(o&&!o.user&&!o.user){let a=yield Mn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield an(this.storage,this.storageKey+"-user"),yield ur(this.storage,this.storageKey,o)):o.user=dc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ic;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${ic}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),sc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,i;if(!t)throw new Ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cs;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ve;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return sc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return p(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>p(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield ur(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Ch(o);yield ur(this.storage,this.storageKey,s)}else{let o=Ch(r);yield ur(this.storage,this.storageKey,o)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield an(this.storage,this.storageKey),yield an(this.storage,this.storageKey+"-code-verifier"),yield an(this.storage,this.storageKey+"-user"),this.userStorage&&(yield an(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),or);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${or}ms, refresh threshold is ${rc} ticks`),o<=rc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof us)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return p(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield dr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=yield P(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$0(t.webauthn.credential_response):B0(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V0(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:U0(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){var t;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){var t,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=uc(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield P(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ve})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(t,r){return p(this,null,function*(){try{return yield this._useSession(i=>p(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ve});let a=yield P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(t,r){return p(this,null,function*(){try{return yield this._useSession(i=>p(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ve});let a=yield P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}fetchJwk(i){return p(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+d0>s)return o;let{data:a,error:l}=yield P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return p(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:w,error:b}=yield this.getSession();if(b||!w.session)return this._returnResult({data:null,error:b});o=w.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=uc(o);r?.allowExpired||I0(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}let h=M0(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,l,y0(`${c}.${u}`))))throw new lr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(A(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),Ah=CT;var DT=Ah,Oh=DT;var mc=class extends Oh{constructor(e){super(e)}};var vc=class{constructor(e,t,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=t;let a=s0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:t0,realtime:r0,auth:Object.assign(Object.assign({},n0),{storageKey:l}),global:e0},u=o0(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=i0(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new j_(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new is(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ko(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,h){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mc({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new es(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Ti=(n,e,t)=>new vc(n,e,t);function ET(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ET()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ln={production:!1,supabase:{url:"https://awfenmvsiidtjjayewxp.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3ZmVubXZzaWlkdGpqYXlld3hwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNjAxNzYsImV4cCI6MjA3ODkzNjE3Nn0.PK0bd6ECHGfxLrETN2NEdGMkfP8cioLZlljaJDXxZpg"}};var ke=class n{supabase;currentUserSubject=new we(null);currentUser$=this.currentUserSubject.asObservable();constructor(){this.supabase=Ti(ln.supabase.url,ln.supabase.anonKey),this.initAuthListener(),this.loadUser()}initAuthListener(){return p(this,null,function*(){this.supabase.auth.onAuthStateChange((e,t)=>{t?.user?this.loadUser():this.currentUserSubject.next(null)})})}loadUser(){return p(this,null,function*(){let{data:{user:e}}=yield this.supabase.auth.getUser();if(e){let{data:t}=yield this.supabase.from("profiles").select(`
          *,
          role:roles(id, name, description)
        `).eq("id",e.id).single();t&&this.currentUserSubject.next({id:t.id,email:e.email||"",full_name:t.full_name,role_id:t.role_id,role_name:t.role?.name,created_at:new Date(t.created_at)})}})}signUp(e,t,r){return p(this,null,function*(){let{data:i,error:o}=yield this.supabase.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(o)throw o;let{data:s}=yield this.supabase.from("roles").select("id").eq("name","user").single();return i.user&&s&&(yield this.supabase.from("profiles").insert({id:i.user.id,email:e,full_name:r,role_id:s.id})),i})}signIn(e,t){return p(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:e,password:t});if(i)throw i;return r})}signOut(){return p(this,null,function*(){let{error:e}=yield this.supabase.auth.signOut();if(e)throw e;this.currentUserSubject.next(null)})}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return this.currentUserSubject.value!==null}isModerator(){let e=this.currentUserSubject.value;return e?.role_name==="moderator"||e?.role_name==="admin"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function ST(n,e){n&1&&(v(0,"span"),_(1,"Email is required"),m())}function IT(n,e){n&1&&(v(0,"span"),_(1,"Invalid email format"),m())}function MT(n,e){if(n&1&&(v(0,"div",14),F(1,ST,2,0,"span",15)(2,IT,2,0,"span",15),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function xT(n,e){n&1&&(v(0,"span"),_(1,"Password is required"),m())}function TT(n,e){n&1&&(v(0,"span"),_(1,"Password must be at least 6 characters"),m())}function AT(n,e){if(n&1&&(v(0,"div",14),F(1,xT,2,0,"span",15)(2,TT,2,0,"span",15),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.loginForm.get("password"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function OT(n,e){if(n&1&&(v(0,"div",14),_(1),m()),n&2){let t=k();y(),z(" ",t.errorMessage," ")}}var yc=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r}loginForm;errorMessage="";isLoading=!1;ngOnInit(){this.loginForm=this.fb.group({email:["",[fe.required,fe.email]],password:["",[fe.required,fe.minLength(6)]]})}onSubmit(){return p(this,null,function*(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";try{let{email:e,password:t}=this.loginForm.value;yield this.authService.signIn(e,t),this.router.navigate(["/feed"])}catch(e){this.errorMessage=e.message||"Login failed. Please try again."}finally{this.isLoading=!1}}})}static \u0275fac=function(t){return new(t||n)(M(gi),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","submit",1,"btn-primary",3,"disabled"],[1,"auth-link"],["routerLink","/signup"],[1,"error-message"],[4,"ngIf"]],template:function(t,r){if(t&1&&(v(0,"div",0)(1,"div",1)(2,"h1",2),_(3,"Golpo Gram"),m(),v(4,"h2",3),_(5,"Sign In"),m(),v(6,"form",4),se("ngSubmit",function(){return r.onSubmit()}),v(7,"div",5)(8,"label",6),_(9,"Email"),m(),Q(10,"input",7),F(11,MT,3,2,"div",8),m(),v(12,"div",5)(13,"label",9),_(14,"Password"),m(),Q(15,"input",10),F(16,AT,3,2,"div",8),m(),F(17,OT,2,1,"div",8),v(18,"button",11),_(19),m(),v(20,"p",12),_(21," Don't have an account? "),v(22,"a",13),_(23,"Sign Up"),m()()()()()),t&2){let i,o;y(6),C("formGroup",r.loginForm),y(5),C("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),y(5),C("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),y(),C("ngIf",r.errorMessage),y(),C("disabled",r.loginForm.invalid||r.isLoading),y(),z(" ",r.isLoading?"Signing In...":"Sign In"," ")}},dependencies:[ze,Je,mi,hi,kt,Pt,fi,er,tr],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:1rem;background:linear-gradient(135deg,#667eea,#764ba2)}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.auth-title[_ngcontent-%COMP%]{font-size:2rem;text-align:center;color:#667eea;margin-bottom:.5rem;font-weight:700}.auth-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;color:#333;margin-bottom:2rem;font-weight:500}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#555;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.25rem}.btn-primary[_ngcontent-%COMP%]{padding:.875rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth-link[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9rem}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:1.5rem}.auth-title[_ngcontent-%COMP%]{font-size:1.75rem}.auth-subtitle[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};function RT(n,e){n&1&&(v(0,"span"),_(1,"Full name is required"),m())}function NT(n,e){n&1&&(v(0,"span"),_(1,"Name must be at least 3 characters"),m())}function kT(n,e){if(n&1&&(v(0,"div",19),F(1,RT,2,0,"span",20)(2,NT,2,0,"span",20),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.signupForm.get("fullName"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.signupForm.get("fullName"))==null||r.errors==null?null:r.errors.minlength)}}function PT(n,e){n&1&&(v(0,"span"),_(1,"Email is required"),m())}function FT(n,e){n&1&&(v(0,"span"),_(1,"Invalid email format"),m())}function LT(n,e){if(n&1&&(v(0,"div",19),F(1,PT,2,0,"span",20)(2,FT,2,0,"span",20),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.signupForm.get("email"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.signupForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function jT(n,e){n&1&&(v(0,"span"),_(1,"Password is required"),m())}function VT(n,e){n&1&&(v(0,"span"),_(1,"Password must be at least 6 characters"),m())}function UT(n,e){if(n&1&&(v(0,"div",19),F(1,jT,2,0,"span",20)(2,VT,2,0,"span",20),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.signupForm.get("password"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.signupForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function $T(n,e){n&1&&(v(0,"div",19),_(1," Passwords do not match "),m())}function BT(n,e){if(n&1&&(v(0,"div",19),_(1),m()),n&2){let t=k();y(),z(" ",t.errorMessage," ")}}function HT(n,e){if(n&1&&(v(0,"div",21),_(1),m()),n&2){let t=k();y(),z(" ",t.successMessage," ")}}var _c=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r}signupForm;errorMessage="";successMessage="";isLoading=!1;ngOnInit(){this.signupForm=this.fb.group({fullName:["",[fe.required,fe.minLength(3)]],email:["",[fe.required,fe.email]],password:["",[fe.required,fe.minLength(6)]],confirmPassword:["",[fe.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(e){let t=e.get("password")?.value,r=e.get("confirmPassword")?.value;return t===r?null:{passwordMismatch:!0}}onSubmit(){return p(this,null,function*(){if(this.signupForm.valid){this.isLoading=!0,this.errorMessage="",this.successMessage="";try{let{fullName:e,email:t,password:r}=this.signupForm.value;yield this.authService.signUp(t,r,e),this.successMessage="Account created successfully! Please check your email for verification.",setTimeout(()=>{this.router.navigate(["/login"])},2e3)}catch(e){this.errorMessage=e.message||"Signup failed. Please try again."}finally{this.isLoading=!1}}})}static \u0275fac=function(t){return new(t||n)(M(gi),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-signup"]],decls:35,vars:9,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","fullName"],["id","fullName","type","text","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["class","success-message",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"auth-link"],["routerLink","/login"],[1,"error-message"],[4,"ngIf"],[1,"success-message"]],template:function(t,r){if(t&1&&(v(0,"div",0)(1,"div",1)(2,"h1",2),_(3,"Golpo Gram"),m(),v(4,"h2",3),_(5,"Sign Up"),m(),v(6,"form",4),se("ngSubmit",function(){return r.onSubmit()}),v(7,"div",5)(8,"label",6),_(9,"Full Name"),m(),Q(10,"input",7),F(11,kT,3,2,"div",8),m(),v(12,"div",5)(13,"label",9),_(14,"Email"),m(),Q(15,"input",10),F(16,LT,3,2,"div",8),m(),v(17,"div",5)(18,"label",11),_(19,"Password"),m(),Q(20,"input",12),F(21,UT,3,2,"div",8),m(),v(22,"div",5)(23,"label",13),_(24,"Confirm Password"),m(),Q(25,"input",14),F(26,$T,2,0,"div",8),m(),F(27,BT,2,1,"div",8)(28,HT,2,1,"div",15),v(29,"button",16),_(30),m(),v(31,"p",17),_(32," Already have an account? "),v(33,"a",18),_(34,"Sign In"),m()()()()()),t&2){let i,o,s,a;y(6),C("formGroup",r.signupForm),y(5),C("ngIf",((i=r.signupForm.get("fullName"))==null?null:i.invalid)&&((i=r.signupForm.get("fullName"))==null?null:i.touched)),y(5),C("ngIf",((o=r.signupForm.get("email"))==null?null:o.invalid)&&((o=r.signupForm.get("email"))==null?null:o.touched)),y(5),C("ngIf",((s=r.signupForm.get("password"))==null?null:s.invalid)&&((s=r.signupForm.get("password"))==null?null:s.touched)),y(5),C("ngIf",(r.signupForm.errors==null?null:r.signupForm.errors.passwordMismatch)&&((a=r.signupForm.get("confirmPassword"))==null?null:a.touched)),y(),C("ngIf",r.errorMessage),y(),C("ngIf",r.successMessage),y(),C("disabled",r.signupForm.invalid||r.isLoading),y(),z(" ",r.isLoading?"Creating Account...":"Sign Up"," ")}},dependencies:[ze,Je,mi,hi,kt,Pt,fi,er,tr],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:1rem;background:linear-gradient(135deg,#667eea,#764ba2)}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.auth-title[_ngcontent-%COMP%]{font-size:2rem;text-align:center;color:#667eea;margin-bottom:.5rem;font-weight:700}.auth-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;color:#333;margin-bottom:2rem;font-weight:500}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#555;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.25rem}.btn-primary[_ngcontent-%COMP%]{padding:.875rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth-link[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9rem}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:1.5rem}.auth-title[_ngcontent-%COMP%]{font-size:1.75rem}.auth-subtitle[_ngcontent-%COMP%]{font-size:1.25rem}}.success-message[_ngcontent-%COMP%]{color:#27ae60;font-size:.85rem;padding:.75rem;background:#d5f4e6;border-radius:6px;text-align:center}"]})};var jt=class n{constructor(e){this.authService=e;this.supabase=Ti(ln.supabase.url,ln.supabase.anonKey)}supabase;createStory(e,t){return p(this,null,function*(){let r=this.authService.getCurrentUser();if(!r)throw new Error("User not authenticated");let{data:i,error:o}=yield this.supabase.from("stories").insert({title:e.title,content:e.content,locality_id:e.locality_id,author_id:r.id,status:"pending"}).select().single();if(o)throw o;if(t.length>0){let s=yield this.uploadMediaFiles(i.id,t),{error:a}=yield this.supabase.from("media_files").insert(s);if(a)throw a}return i})}uploadMediaFiles(e,t){return p(this,null,function*(){let r=[];for(let i of t){let o=i.name.split(".").pop(),a=`stories/${`${e}/${Date.now()}_${Math.random().toString(36).substring(7)}.${o}`}`,{data:l,error:c}=yield this.supabase.storage.from("media").upload(a,i);if(c)throw c;let{data:u}=this.supabase.storage.from("media").getPublicUrl(a),d=this.getFileType(i.type);r.push({story_id:e,file_url:u.publicUrl,file_type:d,file_name:i.name,file_size:i.size})}return r})}getFileType(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":"image"}getStoriesByLocality(e,t="approved"){return p(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("stories").select(`
        *,
        locality:localities(name),
        author:profiles(full_name),
        media_files(*)
      `).eq("locality_id",e).eq("status",t).order("created_at",{ascending:!1});if(i)throw i;return r||[]})}getPendingStories(){return p(this,null,function*(){let{data:e,error:t}=yield this.supabase.from("stories").select(`
        *,
        locality:localities(name),
        author:profiles(full_name),
        media_files(*)
      `).eq("status","pending").order("created_at",{ascending:!0});if(t)throw t;return e||[]})}moderateStory(e,t,r){return p(this,null,function*(){let i=this.authService.getCurrentUser();if(!i||!this.authService.isModerator())throw new Error("Unauthorized");let{error:o}=yield this.supabase.from("stories").update({status:t,moderator_id:i.id,moderator_notes:r,moderated_at:new Date().toISOString()}).eq("id",e);if(o)throw o})}getMyStories(){return p(this,null,function*(){let e=this.authService.getCurrentUser();if(!e)throw new Error("User not authenticated");let{data:t,error:r}=yield this.supabase.from("stories").select(`
        *,
        locality:localities(name),
        media_files(*)
      `).eq("author_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t||[]})}static \u0275fac=function(t){return new(t||n)(B(ke))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Oi=class n{supabase;constructor(){this.supabase=Ti(ln.supabase.url,ln.supabase.anonKey)}getLocalities(){return p(this,null,function*(){let{data:e,error:t}=yield this.supabase.from("localities").select("*").order("name",{ascending:!0});if(t)throw t;return e||[]})}createLocality(e){return p(this,null,function*(){let{data:t,error:r}=yield this.supabase.from("localities").insert(e).select().single();if(r)throw r;return t})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function zT(n,e){if(n&1){let t=Tt();v(0,"button",20),se("click",function(){Ze(t);let i=k();return Ye(i.navigateToCreate())}),_(1," \u2795 "),m()}}function qT(n,e){n&1&&(v(0,"button",21),_(1," \u2699\uFE0F "),m())}function GT(n,e){n&1&&(v(0,"button",22),_(1," \u{1F4DD} "),m())}function WT(n,e){if(n&1){let t=Tt();v(0,"button",23),se("click",function(){Ze(t);let i=k();return Ye(i.logout())}),_(1," \u{1F6AA} "),m()}}function KT(n,e){n&1&&(v(0,"button",24),_(1," Sign In "),m())}function ZT(n,e){if(n&1&&(v(0,"option",25),_(1),m()),n&2){let t=e.$implicit;C("value",t.id),y(),z(" ",t.name," ")}}function YT(n,e){n&1&&(v(0,"div",26),Q(1,"div",27),v(2,"p"),_(3,"Loading stories..."),m()())}function JT(n,e){if(n&1&&(v(0,"div",28),_(1),m()),n&2){let t=k();y(),z(" ",t.errorMessage," ")}}function QT(n,e){if(n&1){let t=Tt();v(0,"div",29)(1,"p",30),_(2,"\u{1F4F0}"),m(),v(3,"h3"),_(4,"No stories yet"),m(),v(5,"p"),_(6,"Be the first to share a story from this locality!"),m(),v(7,"button",31),se("click",function(){Ze(t);let i=k();return Ye(i.navigateToCreate())}),_(8," Create Story "),m()()}}function XT(n,e){if(n&1&&Q(0,"img",48),n&2){let t=k().$implicit;C("src",t.file_url,lt)("alt",t.file_name)}}function eA(n,e){if(n&1&&Q(0,"video",49),n&2){let t=k().$implicit;C("src",t.file_url,lt)}}function tA(n,e){if(n&1&&Q(0,"audio",49),n&2){let t=k().$implicit;C("src",t.file_url,lt)}}function nA(n,e){if(n&1&&(v(0,"div",45),F(1,XT,1,2,"img",46)(2,eA,1,1,"video",47)(3,tA,1,1,"audio",47),m()),n&2){let t=e.$implicit;y(),C("ngIf",t.file_type==="image"),y(),C("ngIf",t.file_type==="video"),y(),C("ngIf",t.file_type==="audio")}}function rA(n,e){if(n&1&&(v(0,"div",42)(1,"div",43),F(2,nA,4,3,"div",44),m()()),n&2){let t=k().$implicit;y(2),C("ngForOf",t.media_files)}}function iA(n,e){if(n&1&&(v(0,"article",32)(1,"div",33)(2,"div")(3,"h2",34),_(4),m(),v(5,"div",35)(6,"span",36),_(7),m(),v(8,"span",37),_(9,"\u2022"),m(),v(10,"span",38),_(11),m()()(),v(12,"span",39),_(13),m()(),v(14,"div",40)(15,"p"),_(16),m()(),F(17,rA,3,1,"div",41),m()),n&2){let t=e.$implicit,r=k();y(4),Le(t.title),y(3),z("By ",t.author_name,""),y(4),Le(r.formatDate(t.created_at)),y(2),z("\u{1F4CD} ",t.locality_name,""),y(3),Le(t.content),y(),C("ngIf",t.media_files&&t.media_files.length>0)}}function oA(n,e){if(n&1){let t=Tt();v(0,"button",50),se("click",function(){Ze(t);let i=k();return Ye(i.navigateToCreate())}),_(1," \u2795 "),m()}}var bc=class n{constructor(e,t,r,i){this.storyService=e;this.localityService=t;this.authService=r;this.router=i}stories=[];localities=[];selectedLocalityId="";isLoading=!1;errorMessage="";ngOnInit(){return p(this,null,function*(){yield this.loadLocalities()})}loadLocalities(){return p(this,null,function*(){try{this.localities=yield this.localityService.getLocalities(),this.localities.length>0&&(this.selectedLocalityId=this.localities[0].id,yield this.loadStories())}catch{this.errorMessage="Failed to load localities"}})}loadStories(){return p(this,null,function*(){if(this.selectedLocalityId){this.isLoading=!0,this.errorMessage="";try{this.stories=yield this.storyService.getStoriesByLocality(this.selectedLocalityId)}catch{this.errorMessage="Failed to load stories"}finally{this.isLoading=!1}}})}onLocalityChange(){this.loadStories()}formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}navigateToCreate(){this.authService.isAuthenticated()?this.router.navigate(["/create-story"]):this.router.navigate(["/login"])}logout(){this.authService.signOut(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(M(jt),M(Oi),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-feed"]],decls:22,vars:12,consts:[[1,"feed-container"],[1,"feed-header"],[1,"app-title"],[1,"header-actions"],["class","btn-icon","title","Create Story",3,"click",4,"ngIf"],["class","btn-icon","routerLink","/moderation","title","Moderation",4,"ngIf"],["class","btn-icon","routerLink","/my-stories","title","My Stories",4,"ngIf"],["class","btn-icon","title","Logout",3,"click",4,"ngIf"],["class","btn-primary-small","routerLink","/login",4,"ngIf"],[1,"filter-section"],["for","locality-filter"],["id","locality-filter",1,"locality-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"stories-container"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"story-grid"],["class","story-card",4,"ngFor","ngForOf"],["class","fab","title","Create Story",3,"click",4,"ngIf"],["title","Create Story",1,"btn-icon",3,"click"],["routerLink","/moderation","title","Moderation",1,"btn-icon"],["routerLink","/my-stories","title","My Stories",1,"btn-icon"],["title","Logout",1,"btn-icon",3,"click"],["routerLink","/login",1,"btn-primary-small"],[3,"value"],[1,"loading-spinner"],[1,"spinner"],[1,"error-message"],[1,"empty-state"],[1,"empty-icon"],[1,"btn-primary",3,"click"],[1,"story-card"],[1,"story-header"],[1,"story-title"],[1,"story-meta"],[1,"author"],[1,"separator"],[1,"date"],[1,"locality-badge"],[1,"story-content"],["class","story-media",4,"ngIf"],[1,"story-media"],[1,"media-grid"],["class","media-item",4,"ngFor","ngForOf"],[1,"media-item"],[3,"src","alt",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[3,"src","alt"],["controls","",3,"src"],["title","Create Story",1,"fab",3,"click"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"header",1)(2,"h1",2),_(3,"Golpo Gram"),m(),v(4,"div",3),F(5,zT,2,0,"button",4)(6,qT,2,0,"button",5)(7,GT,2,0,"button",6)(8,WT,2,0,"button",7)(9,KT,2,0,"button",8),m()(),v(10,"div",9)(11,"label",10),_(12,"Filter by Locality:"),m(),v(13,"select",11),ao("ngModelChange",function(o){return Ua(r.selectedLocalityId,o)||(r.selectedLocalityId=o),o}),se("change",function(){return r.onLocalityChange()}),F(14,ZT,2,2,"option",12),m()(),v(15,"div",13),F(16,YT,4,0,"div",14)(17,JT,2,1,"div",15)(18,QT,9,0,"div",16),v(19,"div",17),F(20,iA,18,6,"article",18),m()(),F(21,oA,2,0,"button",19),m()),t&2&&(y(5),C("ngIf",r.authService.isAuthenticated()),y(),C("ngIf",r.authService.isModerator()),y(),C("ngIf",r.authService.isAuthenticated()),y(),C("ngIf",r.authService.isAuthenticated()),y(),C("ngIf",!r.authService.isAuthenticated()),y(4),so("ngModel",r.selectedLocalityId),y(),C("ngForOf",r.localities),y(2),C("ngIf",r.isLoading),y(),C("ngIf",r.errorMessage),y(),C("ngIf",!r.isLoading&&r.stories.length===0&&!r.errorMessage),y(2),C("ngForOf",r.stories),y(),C("ngIf",r.authService.isAuthenticated()))},dependencies:[ze,At,Je,Pl,Nl,kl,pi,Pt,Ho],styles:[".feed-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa;padding-bottom:2rem}.feed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a;position:sticky;top:0;z-index:100}.app-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.btn-icon[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;width:40px;height:40px;border-radius:50%;font-size:1.25rem;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.btn-primary-small[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:none;padding:.5rem 1.5rem;border-radius:20px;font-weight:600;cursor:pointer;transition:all .3s}.btn-primary-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.filter-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem;display:flex;align-items:center;gap:1rem}.filter-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;white-space:nowrap}.locality-select[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;background:#fff;cursor:pointer;flex:1;max-width:300px;transition:border-color .3s}.locality-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.stories-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 0;color:#666}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:1rem;border-radius:8px;text-align:center;margin:2rem 0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.875rem 2rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.story-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;margin-bottom:2rem}.story-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014;transition:all .3s}.story-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001f;transform:translateY(-2px)}.story-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;margin-bottom:1rem;gap:1rem}.story-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:0 0 .5rem;font-weight:600}.story-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#666;display:flex;gap:.5rem;align-items:center}.separator[_ngcontent-%COMP%]{color:#ccc}.locality-badge[_ngcontent-%COMP%]{background:#e7ecff;color:#667eea;padding:.5rem 1rem;border-radius:20px;font-size:.85rem;font-weight:600;white-space:nowrap}.story-content[_ngcontent-%COMP%]{color:#555;line-height:1.6;margin-bottom:1rem}.story-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.story-media[_ngcontent-%COMP%]{margin-top:1rem}.media-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.media-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .media-item[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:8px}.media-item[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}.fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:60px;height:60px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:50%;font-size:1.75rem;cursor:pointer;box-shadow:0 4px 12px #667eea66;transition:all .3s;display:none}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 20px #667eea80}@media (max-width: 768px){.feed-header[_ngcontent-%COMP%]{padding:1rem}.app-title[_ngcontent-%COMP%]{font-size:1.25rem}.header-actions[_ngcontent-%COMP%]{gap:.5rem}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}.btn-icon[_ngcontent-%COMP%]:not(.btn-primary-small){display:none}.fab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.filter-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.locality-select[_ngcontent-%COMP%]{max-width:100%}.story-header[_ngcontent-%COMP%]{flex-direction:column}.locality-badge[_ngcontent-%COMP%]{align-self:flex-start}.media-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function sA(n,e){n&1&&(v(0,"span"),_(1,"Title is required"),m())}function aA(n,e){n&1&&(v(0,"span"),_(1,"Title must be at least 5 characters"),m())}function lA(n,e){if(n&1&&(v(0,"div",23),F(1,sA,2,0,"span",24)(2,aA,2,0,"span",24),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.storyForm.get("title"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.storyForm.get("title"))==null||r.errors==null?null:r.errors.minlength)}}function cA(n,e){if(n&1&&(v(0,"option",25),_(1),m()),n&2){let t=e.$implicit;C("value",t.id),y(),z(" ",t.name," ")}}function uA(n,e){n&1&&(v(0,"div",23),_(1," Locality is required "),m())}function dA(n,e){n&1&&(v(0,"span"),_(1,"Content is required"),m())}function fA(n,e){n&1&&(v(0,"span"),_(1,"Content must be at least 20 characters"),m())}function hA(n,e){if(n&1&&(v(0,"div",23),F(1,dA,2,0,"span",24)(2,fA,2,0,"span",24),m()),n&2){let t,r,i=k();y(),C("ngIf",(t=i.storyForm.get("content"))==null||t.errors==null?null:t.errors.required),y(),C("ngIf",(r=i.storyForm.get("content"))==null||r.errors==null?null:r.errors.minlength)}}function pA(n,e){if(n&1&&Q(0,"img",34),n&2){let t=k().$implicit;C("src",t.url,lt)}}function gA(n,e){if(n&1&&Q(0,"video",35),n&2){let t=k().$implicit;C("src",t.url,lt)}}function mA(n,e){if(n&1&&Q(0,"audio",35),n&2){let t=k().$implicit;C("src",t.url,lt)}}function vA(n,e){if(n&1){let t=Tt();v(0,"div",28),F(1,pA,1,1,"img",29)(2,gA,1,1,"video",30)(3,mA,1,1,"audio",30),v(4,"div",31)(5,"span",32),_(6),m(),v(7,"button",33),se("click",function(){let i=Ze(t).index,o=k(2);return Ye(o.removeFile(i))}),_(8,"\u2715"),m()()()}if(n&2){let t=e.$implicit;y(),C("ngIf",t.type==="image"),y(),C("ngIf",t.type==="video"),y(),C("ngIf",t.type==="audio"),y(3),Le(t.name)}}function yA(n,e){if(n&1&&(v(0,"div",26),F(1,vA,9,4,"div",27),m()),n&2){let t=k();y(),C("ngForOf",t.filePreviews)}}function _A(n,e){if(n&1&&(v(0,"div",23),_(1),m()),n&2){let t=k();y(),z(" ",t.errorMessage," ")}}function wA(n,e){if(n&1&&(v(0,"div",36),_(1),m()),n&2){let t=k();y(),z(" ",t.successMessage," ")}}var Cc=class n{constructor(e,t,r,i,o){this.fb=e;this.storyService=t;this.localityService=r;this.authService=i;this.router=o}storyForm;localities=[];selectedFiles=[];filePreviews=[];isLoading=!1;errorMessage="";successMessage="";ngOnInit(){return p(this,null,function*(){if(!this.authService.isAuthenticated()){this.router.navigate(["/login"]);return}this.storyForm=this.fb.group({title:["",[fe.required,fe.minLength(5)]],content:["",[fe.required,fe.minLength(20)]],locality_id:["",fe.required]}),yield this.loadLocalities()})}loadLocalities(){return p(this,null,function*(){try{this.localities=yield this.localityService.getLocalities()}catch{this.errorMessage="Failed to load localities"}})}onFileSelect(e){let t=e.target.files;for(let r=0;r<t.length;r++){let i=t[r];this.selectedFiles.push(i);let o=new FileReader;o.onload=s=>{let a=this.getFileType(i.type);this.filePreviews.push({url:s.target.result,type:a,name:i.name})},o.readAsDataURL(i)}}removeFile(e){this.selectedFiles.splice(e,1),this.filePreviews.splice(e,1)}getFileType(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":"file"}onSubmit(){return p(this,null,function*(){if(this.storyForm.valid){this.isLoading=!0,this.errorMessage="",this.successMessage="";try{yield this.storyService.createStory(this.storyForm.value,this.selectedFiles),this.successMessage="Story submitted for review!",setTimeout(()=>{this.router.navigate(["/my-stories"])},2e3)}catch(e){this.errorMessage=e.message||"Failed to create story"}finally{this.isLoading=!1}}})}static \u0275fac=function(t){return new(t||n)(M(gi),M(jt),M(Oi),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-create-story"]],decls:40,vars:10,consts:[[1,"create-story-container"],[1,"create-story-card"],[1,"page-title"],[1,"story-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title","placeholder","Enter an engaging title",1,"form-control"],["class","error-message",4,"ngIf"],["for","locality_id"],["id","locality_id","formControlName","locality_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","content"],["id","content","formControlName","content","rows","8","placeholder","Tell your story...",1,"form-control","textarea-control"],[1,"file-upload-area"],["type","file","id","fileInput","accept","image/*,video/*,audio/*","multiple","","hidden","",3,"change"],["for","fileInput",1,"file-upload-label"],[1,"upload-icon"],["class","file-previews",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"form-actions"],["type","button","routerLink","/feed",1,"btn-secondary"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"],[3,"value"],[1,"file-previews"],["class","file-preview",4,"ngFor","ngForOf"],[1,"file-preview"],["alt","Preview",3,"src",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"file-info"],[1,"file-name"],["type","button",1,"btn-remove",3,"click"],["alt","Preview",3,"src"],["controls","",3,"src"],[1,"success-message"]],template:function(t,r){if(t&1&&(v(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"Share Your Story"),m(),v(4,"form",3),se("ngSubmit",function(){return r.onSubmit()}),v(5,"div",4)(6,"label",5),_(7,"Story Title *"),m(),Q(8,"input",6),F(9,lA,3,2,"div",7),m(),v(10,"div",4)(11,"label",8),_(12,"Locality *"),m(),v(13,"select",9)(14,"option",10),_(15,"Select a locality"),m(),F(16,cA,2,2,"option",11),m(),F(17,uA,2,0,"div",7),m(),v(18,"div",4)(19,"label",12),_(20,"Story Content *"),m(),Q(21,"textarea",13),F(22,hA,3,2,"div",7),m(),v(23,"div",4)(24,"label"),_(25,"Add Media (Images, Audio, Video)"),m(),v(26,"div",14)(27,"input",15),se("change",function(o){return r.onFileSelect(o)}),m(),v(28,"label",16)(29,"span",17),_(30,"\u{1F4CE}"),m(),_(31," Choose Files "),m()(),F(32,yA,2,1,"div",18),m(),F(33,_A,2,1,"div",7)(34,wA,2,1,"div",19),v(35,"div",20)(36,"button",21),_(37," Cancel "),m(),v(38,"button",22),_(39),m()()()()()),t&2){let i,o,s;y(4),C("formGroup",r.storyForm),y(5),C("ngIf",((i=r.storyForm.get("title"))==null?null:i.invalid)&&((i=r.storyForm.get("title"))==null?null:i.touched)),y(7),C("ngForOf",r.localities),y(),C("ngIf",((o=r.storyForm.get("locality_id"))==null?null:o.invalid)&&((o=r.storyForm.get("locality_id"))==null?null:o.touched)),y(5),C("ngIf",((s=r.storyForm.get("content"))==null?null:s.invalid)&&((s=r.storyForm.get("content"))==null?null:s.touched)),y(10),C("ngIf",r.filePreviews.length>0),y(),C("ngIf",r.errorMessage),y(),C("ngIf",r.successMessage),y(4),C("disabled",r.storyForm.invalid||r.isLoading),y(),z(" ",r.isLoading?"Submitting...":"Submit Story"," ")}},dependencies:[ze,At,Je,mi,hi,Nl,kl,kt,pi,Pt,fi,er,tr],styles:[".create-story-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem 1rem}.create-story-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#333;margin-bottom:2rem;font-weight:600}.story-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#555;font-size:.95rem}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s;font-family:inherit}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.textarea-control[_ngcontent-%COMP%]{resize:vertical;min-height:150px}select.form-control[_ngcontent-%COMP%]{cursor:pointer}.file-upload-area[_ngcontent-%COMP%]{margin-top:.5rem}.file-upload-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#f8f9fa;border:2px dashed #667eea;border-radius:8px;cursor:pointer;transition:all .3s;font-weight:500}.file-upload-label[_ngcontent-%COMP%]:hover{background:#e7ecff;border-color:#5568d3}.upload-icon[_ngcontent-%COMP%]{font-size:1.25rem}.file-previews[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-top:1rem}.file-preview[_ngcontent-%COMP%]{position:relative;border:2px solid #e0e0e0;border-radius:8px;overflow:hidden}.file-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .file-preview[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.file-preview[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.file-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#f8f9fa}.file-name[_ngcontent-%COMP%]{font-size:.85rem;color:#666;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.btn-remove[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center}.btn-remove[_ngcontent-%COMP%]:hover{background:#c0392b}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.25rem}.success-message[_ngcontent-%COMP%]{color:#27ae60;font-size:.85rem;padding:.75rem;background:#d5f4e6;border-radius:6px;text-align:center}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.875rem 2rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;flex:1}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f8f9fa;color:#666;border:2px solid #e0e0e0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e9ecef}@media (max-width: 768px){.create-story-card[_ngcontent-%COMP%]{padding:1.5rem}.file-previews[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};function bA(n,e){n&1&&(v(0,"div",13),Q(1,"div",14),v(2,"p"),_(3,"Loading pending stories..."),m()())}function CA(n,e){n&1&&(v(0,"div",15)(1,"p",16),_(2,"\u2705"),m(),v(3,"h3"),_(4,"No pending stories"),m(),v(5,"p"),_(6,"All caught up! Great job."),m()())}function DA(n,e){if(n&1){let t=Tt();v(0,"div",17),se("click",function(){let i=Ze(t).$implicit,o=k();return Ye(o.selectStory(i))}),v(1,"h3",18),_(2),m(),v(3,"div",19)(4,"span"),_(5),m(),v(6,"span"),_(7),m(),v(8,"span"),_(9),m()()()}if(n&2){let t=e.$implicit,r=k();Kr("selected",(r.selectedStory==null?null:r.selectedStory.id)===t.id),y(2),Le(t.title),y(3),z("\u{1F4CD} ",t.locality_name,""),y(2),z("\u{1F464} ",t.author_name,""),y(2),z("\u{1F4C5} ",r.formatDate(t.created_at),"")}}function EA(n,e){if(n&1&&Q(0,"img",40),n&2){let t=k().$implicit;C("src",t.file_url,lt)("alt",t.file_name)}}function SA(n,e){if(n&1&&Q(0,"video",41),n&2){let t=k().$implicit;C("src",t.file_url,lt)}}function IA(n,e){if(n&1&&Q(0,"audio",41),n&2){let t=k().$implicit;C("src",t.file_url,lt)}}function MA(n,e){if(n&1&&(v(0,"div",37),F(1,EA,1,2,"img",38)(2,SA,1,1,"video",39)(3,IA,1,1,"audio",39),m()),n&2){let t=e.$implicit;y(),C("ngIf",t.file_type==="image"),y(),C("ngIf",t.file_type==="video"),y(),C("ngIf",t.file_type==="audio")}}function xA(n,e){if(n&1&&(v(0,"div",34)(1,"h3"),_(2),m(),v(3,"div",35),F(4,MA,4,3,"div",36),m()()),n&2){let t=k(2);y(2),z("Media Files (",t.selectedStory.media_files.length,")"),y(2),C("ngForOf",t.selectedStory.media_files)}}function TA(n,e){if(n&1&&(v(0,"div",42),_(1),m()),n&2){let t=k(2);y(),z(" ",t.errorMessage," ")}}function AA(n,e){if(n&1&&(v(0,"div",43),_(1),m()),n&2){let t=k(2);y(),z(" ",t.successMessage," ")}}function OA(n,e){if(n&1){let t=Tt();v(0,"div",20)(1,"div",21)(2,"h2"),_(3),m(),v(4,"button",22),se("click",function(){Ze(t);let i=k();return Ye(i.closeDetail())}),_(5,"\u2715"),m()(),v(6,"div",23)(7,"span",24),_(8),m(),v(9,"span",24),_(10),m(),v(11,"span",24),_(12),m()(),v(13,"div",25)(14,"h3"),_(15,"Content"),m(),v(16,"p"),_(17),m()(),F(18,xA,5,2,"div",26),v(19,"div",27)(20,"h3"),_(21,"Moderation Notes"),m(),v(22,"textarea",28),ao("ngModelChange",function(i){Ze(t);let o=k();return Ua(o.moderationNotes,i)||(o.moderationNotes=i),Ye(i)}),m(),F(23,TA,2,1,"div",29)(24,AA,2,1,"div",30),v(25,"div",31)(26,"button",32),se("click",function(){Ze(t);let i=k();return Ye(i.moderateStory("rejected"))}),_(27),m(),v(28,"button",33),se("click",function(){Ze(t);let i=k();return Ye(i.moderateStory("approved"))}),_(29),m()()()()}if(n&2){let t=k();y(3),Le(t.selectedStory.title),y(5),z("\u{1F4CD} ",t.selectedStory.locality_name,""),y(2),z("\u{1F464} ",t.selectedStory.author_name,""),y(2),z("\u{1F4C5} ",t.formatDate(t.selectedStory.created_at),""),y(5),Le(t.selectedStory.content),y(),C("ngIf",t.selectedStory.media_files&&t.selectedStory.media_files.length>0),y(4),so("ngModel",t.moderationNotes),y(),C("ngIf",t.errorMessage),y(),C("ngIf",t.successMessage),y(2),C("disabled",t.isLoading),y(),z(" ",t.isLoading?"Processing...":"Reject"," "),y(),C("disabled",t.isLoading),y(),z(" ",t.isLoading?"Processing...":"Approve"," ")}}function RA(n,e){n&1&&(v(0,"div",44)(1,"p",45),_(2,"\u{1F448}"),m(),v(3,"h3"),_(4,"Select a story to review"),m(),v(5,"p"),_(6,"Choose a pending story from the list to review its content and moderate."),m()())}var Dc=class n{constructor(e,t,r){this.storyService=e;this.authService=t;this.router=r}pendingStories=[];isLoading=!1;errorMessage="";successMessage="";selectedStory=null;moderationNotes="";ngOnInit(){return p(this,null,function*(){if(!this.authService.isModerator()){this.router.navigate(["/feed"]);return}yield this.loadPendingStories()})}loadPendingStories(){return p(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{this.pendingStories=yield this.storyService.getPendingStories()}catch{this.errorMessage="Failed to load pending stories"}finally{this.isLoading=!1}})}selectStory(e){this.selectedStory=e,this.moderationNotes="",this.successMessage=""}moderateStory(e){return p(this,null,function*(){if(this.selectedStory){this.isLoading=!0,this.errorMessage="",this.successMessage="";try{yield this.storyService.moderateStory(this.selectedStory.id,e,this.moderationNotes),this.successMessage=`Story ${e} successfully!`,this.pendingStories=this.pendingStories.filter(t=>t.id!==this.selectedStory.id),this.selectedStory=null,this.moderationNotes=""}catch{this.errorMessage="Failed to moderate story"}finally{this.isLoading=!1}}})}formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}closeDetail(){this.selectedStory=null,this.moderationNotes="",this.successMessage="",this.errorMessage=""}static \u0275fac=function(t){return new(t||n)(M(jt),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-moderation"]],decls:16,vars:6,consts:[[1,"moderation-container"],[1,"mod-header"],[1,"mod-title"],["routerLink","/feed",1,"btn-secondary"],[1,"mod-content"],[1,"pending-list"],[1,"section-title"],["class","loading-spinner",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"story-list"],["class","story-item",3,"selected","click",4,"ngFor","ngForOf"],["class","story-detail",4,"ngIf"],["class","story-detail-placeholder",4,"ngIf"],[1,"loading-spinner"],[1,"spinner"],[1,"empty-state"],[1,"empty-icon"],[1,"story-item",3,"click"],[1,"story-item-title"],[1,"story-item-meta"],[1,"story-detail"],[1,"detail-header"],[1,"btn-close",3,"click"],[1,"detail-meta"],[1,"meta-item"],[1,"detail-content"],["class","detail-media",4,"ngIf"],[1,"moderation-form"],["placeholder","Add notes about your decision (optional)","rows","3",1,"notes-textarea",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"moderation-actions"],[1,"btn-reject",3,"click","disabled"],[1,"btn-approve",3,"click","disabled"],[1,"detail-media"],[1,"media-grid"],["class","media-item",4,"ngFor","ngForOf"],[1,"media-item"],[3,"src","alt",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[3,"src","alt"],["controls","",3,"src"],[1,"error-message"],[1,"success-message"],[1,"story-detail-placeholder"],[1,"placeholder-icon"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"header",1)(2,"h1",2),_(3,"Story Moderation"),m(),v(4,"button",3),_(5,"Back to Feed"),m()(),v(6,"div",4)(7,"div",5)(8,"h2",6),_(9),m(),F(10,bA,4,0,"div",7)(11,CA,7,0,"div",8),v(12,"div",9),F(13,DA,10,6,"div",10),m()(),F(14,OA,30,13,"div",11)(15,RA,7,0,"div",12),m()()),t&2&&(y(9),z("Pending Stories (",r.pendingStories.length,")"),y(),C("ngIf",r.isLoading&&r.pendingStories.length===0),y(),C("ngIf",!r.isLoading&&r.pendingStories.length===0),y(2),C("ngForOf",r.pendingStories),y(),C("ngIf",r.selectedStory),y(),C("ngIf",!r.selectedStory&&r.pendingStories.length>0))},dependencies:[ze,At,Je,Pl,kt,Pt,Ho],styles:[".moderation-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa}.mod-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a}.mod-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0}.btn-secondary[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:2px solid white;padding:.5rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fff;color:#667eea}.mod-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:400px 1fr;height:calc(100vh - 80px);gap:0}.pending-list[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #e0e0e0;overflow-y:auto}.section-title[_ngcontent-%COMP%]{padding:1.5rem;margin:0;font-size:1.25rem;color:#333;border-bottom:1px solid #e0e0e0;position:sticky;top:0;background:#fff;z-index:10}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;color:#666}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:#333;margin-bottom:.5rem}.story-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.story-item[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid #e0e0e0;cursor:pointer;transition:all .2s}.story-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.story-item.selected[_ngcontent-%COMP%]{background:#e7ecff;border-left:4px solid #667eea}.story-item-title[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin:0 0 .5rem;font-weight:600}.story-item-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;font-size:.85rem;color:#666}.story-detail[_ngcontent-%COMP%], .story-detail-placeholder[_ngcontent-%COMP%]{background:#fff;overflow-y:auto;padding:2rem}.story-detail-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#666}.story-detail-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.story-detail-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:.5rem}.detail-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;margin-bottom:1.5rem;gap:1rem}.detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;color:#333;margin:0;font-weight:600}.btn-close[_ngcontent-%COMP%]{background:#f8f9fa;border:none;color:#666;width:36px;height:36px;border-radius:50%;font-size:1.25rem;cursor:pointer;transition:all .2s;flex-shrink:0}.btn-close[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.detail-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e0e0e0}.meta-item[_ngcontent-%COMP%]{font-size:.9rem;color:#666;padding:.5rem 1rem;background:#f8f9fa;border-radius:20px}.detail-content[_ngcontent-%COMP%]{margin-bottom:2rem}.detail-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-bottom:1rem}.detail-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;line-height:1.7}.detail-media[_ngcontent-%COMP%]{margin-bottom:2rem}.detail-media[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-bottom:1rem}.media-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.media-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .media-item[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:8px}.media-item[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%}.moderation-form[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:12px;margin-top:2rem}.moderation-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin:0 0 1rem}.notes-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:.95rem;font-family:inherit;resize:vertical;margin-bottom:1rem}.notes-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.9rem;padding:.75rem;background:#fee;border-radius:6px;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]{color:#27ae60;font-size:.9rem;padding:.75rem;background:#d5f4e6;border-radius:6px;margin-bottom:1rem}.moderation-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.btn-approve[_ngcontent-%COMP%], .btn-reject[_ngcontent-%COMP%]{padding:.875rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-approve[_ngcontent-%COMP%]:disabled, .btn-reject[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-approve[_ngcontent-%COMP%]{background:#27ae60;color:#fff}.btn-approve[_ngcontent-%COMP%]:hover:not(:disabled){background:#229954;transform:translateY(-2px);box-shadow:0 4px 12px #27ae604d}.btn-reject[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled){background:#c0392b;transform:translateY(-2px);box-shadow:0 4px 12px #e74c3c4d}@media (max-width: 1024px){.mod-content[_ngcontent-%COMP%]{grid-template-columns:1fr;height:auto}.pending-list[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #e0e0e0;max-height:400px}.story-detail-placeholder[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.mod-header[_ngcontent-%COMP%]{padding:1rem}.mod-title[_ngcontent-%COMP%]{font-size:1.25rem}.story-detail[_ngcontent-%COMP%]{padding:1rem}.detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.media-grid[_ngcontent-%COMP%], .moderation-actions[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function NA(n,e){n&1&&(v(0,"div",12),Q(1,"div",13),v(2,"p"),_(3,"Loading your stories..."),m()())}function kA(n,e){if(n&1&&(v(0,"div",14),_(1),m()),n&2){let t=k();y(),z(" ",t.errorMessage," ")}}function PA(n,e){n&1&&(v(0,"div",15)(1,"p",16),_(2,"\u{1F4DD}"),m(),v(3,"h3"),_(4,"No stories yet"),m(),v(5,"p"),_(6,"You haven't published any stories. Share your first story with the community!"),m(),v(7,"button",5),_(8,"Create Your First Story"),m()())}function FA(n,e){if(n&1&&(v(0,"div",26)(1,"div",27),_(2),m()()),n&2){let t=k().$implicit;y(2),Hd(" \u{1F4CE} ",t.media_files.length," media file",t.media_files.length>1?"s":""," ")}}function LA(n,e){if(n&1&&(v(0,"div",28)(1,"strong"),_(2,"Moderator Notes:"),m(),v(3,"p"),_(4),m()()),n&2){let t=k().$implicit;y(4),Le(t.moderator_notes)}}function jA(n,e){if(n&1&&(v(0,"article",17)(1,"div",18)(2,"div")(3,"h2",19),_(4),m(),v(5,"div",20)(6,"span"),_(7),m(),v(8,"span",21),_(9,"\u2022"),m(),v(10,"span"),_(11),m()()(),v(12,"span",22),_(13),m()(),v(14,"div",23)(15,"p"),_(16),m()(),F(17,FA,3,2,"div",24)(18,LA,5,1,"div",25),m()),n&2){let t=e.$implicit,r=k();y(4),Le(t.title),y(3),z("\u{1F4CD} ",t.locality_name,""),y(4),z("\u{1F4C5} ",r.formatDate(t.created_at),""),y(),C("ngClass",r.getStatusClass(t.status)),y(),z(" ",r.getStatusLabel(t.status)," "),y(3),Le(t.content),y(),C("ngIf",t.media_files&&t.media_files.length>0),y(),C("ngIf",t.moderator_notes)}}var Ec=class n{constructor(e,t,r){this.storyService=e;this.authService=t;this.router=r}stories=[];isLoading=!1;errorMessage="";ngOnInit(){return p(this,null,function*(){if(!this.authService.isAuthenticated()){this.router.navigate(["/login"]);return}yield this.loadMyStories()})}loadMyStories(){return p(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{this.stories=yield this.storyService.getMyStories()}catch{this.errorMessage="Failed to load your stories"}finally{this.isLoading=!1}})}getStatusClass(e){return`status-${e}`}getStatusLabel(e){return e.charAt(0).toUpperCase()+e.slice(1)}formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}static \u0275fac=function(t){return new(t||n)(M(jt),M(ke),M(Oe))};static \u0275cmp=Te({type:n,selectors:[["app-my-stories"]],decls:15,vars:4,consts:[[1,"my-stories-container"],[1,"page-header"],[1,"page-title"],[1,"header-actions"],["routerLink","/feed",1,"btn-secondary"],["routerLink","/create-story",1,"btn-primary"],[1,"stories-content"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"stories-grid"],["class","story-card",4,"ngFor","ngForOf"],[1,"loading-spinner"],[1,"spinner"],[1,"error-message"],[1,"empty-state"],[1,"empty-icon"],[1,"story-card"],[1,"story-header"],[1,"story-title"],[1,"story-meta"],[1,"separator"],[1,"status-badge",3,"ngClass"],[1,"story-content"],["class","story-media",4,"ngIf"],["class","moderator-notes",4,"ngIf"],[1,"story-media"],[1,"media-count"],[1,"moderator-notes"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"header",1)(2,"h1",2),_(3,"My Stories"),m(),v(4,"div",3)(5,"button",4),_(6,"Back to Feed"),m(),v(7,"button",5),_(8,"Create New Story"),m()()(),v(9,"div",6),F(10,NA,4,0,"div",7)(11,kA,2,1,"div",8)(12,PA,9,0,"div",9),v(13,"div",10),F(14,jA,19,8,"article",11),m()()()),t&2&&(y(10),C("ngIf",r.isLoading),y(),C("ngIf",r.errorMessage),y(),C("ngIf",!r.isLoading&&r.stories.length===0&&!r.errorMessage),y(2),C("ngForOf",r.stories))},dependencies:[ze,Yd,At,Je],styles:[".my-stories-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa;padding-bottom:2rem}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;box-shadow:0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 1rem}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#fff;color:#667eea}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.btn-secondary[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:2px solid white}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff4d}.stories-content[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 0;color:#666}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:1rem;border-radius:8px;text-align:center;margin:2rem 0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}.stories-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.story-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014;transition:all .3s}.story-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001f}.story-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;margin-bottom:1rem;gap:1rem}.story-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:0 0 .5rem;font-weight:600}.story-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#666;display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}.separator[_ngcontent-%COMP%]{color:#ccc}.status-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;font-size:.85rem;font-weight:600;white-space:nowrap}.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-approved[_ngcontent-%COMP%]{background:#d5f4e6;color:#27ae60}.status-rejected[_ngcontent-%COMP%]{background:#fee;color:#e74c3c}.story-content[_ngcontent-%COMP%]{color:#555;line-height:1.6;margin-bottom:1rem}.story-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.story-media[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e0e0e0}.media-count[_ngcontent-%COMP%]{color:#666;font-size:.9rem;font-weight:500}.moderator-notes[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#f8f9fa;border-left:4px solid #667eea;border-radius:4px}.moderator-notes[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;display:block;margin-bottom:.5rem}.moderator-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin:0;line-height:1.5}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.story-header[_ngcontent-%COMP%]{flex-direction:column}.status-badge[_ngcontent-%COMP%]{align-self:flex-start}}"]})};var q0=[{path:"",redirectTo:"/feed",pathMatch:"full"},{path:"login",component:yc},{path:"signup",component:_c},{path:"feed",component:bc},{path:"create-story",component:Cc},{path:"moderation",component:Dc},{path:"my-stories",component:Ec},{path:"**",redirectTo:"/feed"}];var G0={providers:[Lv({eventCoalescing:!0}),Of(q0)]};var Sc=class n{title="golpo-gram-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Q(0,"router-outlet")},dependencies:[No],encapsulation:2})};af(Sc,G0).catch(n=>console.error(n));
